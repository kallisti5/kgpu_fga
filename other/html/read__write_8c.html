<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>KGPU: services/gaes/ecryptfs/read_write.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">KGPU
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('read__write_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">read_write.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/slab.h&gt;</code><br/>
<code>#include &lt;linux/fs.h&gt;</code><br/>
<code>#include &lt;linux/pagemap.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="ecryptfs__kernel_8h_source.html">ecryptfs_kernel.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for read_write.c:</div>
<div class="dyncontent">
<div class="center"><img src="read__write_8c__incl.png" border="0" usemap="#services_2gaes_2ecryptfs_2read__write_8c" alt=""/></div>
<map name="services_2gaes_2ecryptfs_2read__write_8c" id="services_2gaes_2ecryptfs_2read__write_8c">
<area shape="rect" id="node5" href="ecryptfs__kernel_8h.html" title="ecryptfs_kernel.h" alt="" coords="385,96,508,123"/></map>
</div>
</div>
<p><a href="read__write_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abcca60d451f0a0e8ae33d8738d662fd7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="read__write_8c.html#abcca60d451f0a0e8ae33d8738d662fd7">ecryptfs_write_lower</a> (struct inode *ecryptfs_inode, char *<a class="el" href="raid6test_8c.html#aa15520322cfd6ae88e1036d4706d4de3">data</a>, loff_t offset, size_t size)</td></tr>
<tr class="separator:abcca60d451f0a0e8ae33d8738d662fd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b63d7743285b6e930dd7a651ba92ada"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="read__write_8c.html#a0b63d7743285b6e930dd7a651ba92ada">ecryptfs_write_lower_page_segment</a> (struct inode *ecryptfs_inode, struct page *page_for_lower, size_t offset_in_page, size_t size)</td></tr>
<tr class="separator:a0b63d7743285b6e930dd7a651ba92ada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f6fb7e71433ccea976b2cba69741f2a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="read__write_8c.html#a1f6fb7e71433ccea976b2cba69741f2a">ecryptfs_write</a> (struct inode *ecryptfs_inode, char *<a class="el" href="raid6test_8c.html#aa15520322cfd6ae88e1036d4706d4de3">data</a>, loff_t offset, size_t size)</td></tr>
<tr class="separator:a1f6fb7e71433ccea976b2cba69741f2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7069e6270fd6afd0bb49e7259cd74810"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="read__write_8c.html#a7069e6270fd6afd0bb49e7259cd74810">ecryptfs_write2</a> (struct inode *ecryptfs_inode, char *<a class="el" href="raid6test_8c.html#aa15520322cfd6ae88e1036d4706d4de3">data</a>, loff_t offset, size_t size)</td></tr>
<tr class="separator:a7069e6270fd6afd0bb49e7259cd74810"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a8f9447eb75e1878c99de4166fdd6fb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="read__write_8c.html#a7a8f9447eb75e1878c99de4166fdd6fb">ecryptfs_read_lower</a> (char *<a class="el" href="raid6test_8c.html#aa15520322cfd6ae88e1036d4706d4de3">data</a>, loff_t offset, size_t size, struct inode *ecryptfs_inode)</td></tr>
<tr class="separator:a7a8f9447eb75e1878c99de4166fdd6fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2348e4afee0be4d429778964b8943d2c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="read__write_8c.html#a2348e4afee0be4d429778964b8943d2c">ecryptfs_read_lower_page_segment</a> (struct page *page_for_ecryptfs, pgoff_t page_index, size_t offset_in_page, size_t size, struct inode *ecryptfs_inode)</td></tr>
<tr class="separator:a2348e4afee0be4d429778964b8943d2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a7a8f9447eb75e1878c99de4166fdd6fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ecryptfs_read_lower </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&#160;</td>
          <td class="paramname"><em>ecryptfs_inode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ecryptfs_read_lower : The read data is stored here by this function : Byte offset in the lower file from which to read the data : Number of bytes to read from  of the lower file and store into  : The eCryptfs inode</p>
<p>Read  bytes of data at byte offset  from the lower inode into memory location .</p>
<p>Returns bytes read on success; 0 on EOF; less than zero on error </p>

<p>Definition at line <a class="el" href="read__write_8c_source.html#l00364">364</a> of file <a class="el" href="read__write_8c_source.html">read_write.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="read__write_8c_a7a8f9447eb75e1878c99de4166fdd6fb_cgraph.png" border="0" usemap="#read__write_8c_a7a8f9447eb75e1878c99de4166fdd6fb_cgraph" alt=""/></div>
<map name="read__write_8c_a7a8f9447eb75e1878c99de4166fdd6fb_cgraph" id="read__write_8c_a7a8f9447eb75e1878c99de4166fdd6fb_cgraph">
<area shape="rect" id="node2" href="ecryptfs__kernel_8h.html#a5240470a17155c25d11458eb2504a7ab" title="ecryptfs_inode_to_private" alt="" coords="192,5,363,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="read__write_8c_a7a8f9447eb75e1878c99de4166fdd6fb_icgraph.png" border="0" usemap="#read__write_8c_a7a8f9447eb75e1878c99de4166fdd6fb_icgraph" alt=""/></div>
<map name="read__write_8c_a7a8f9447eb75e1878c99de4166fdd6fb_icgraph" id="read__write_8c_a7a8f9447eb75e1878c99de4166fdd6fb_icgraph">
<area shape="rect" id="node2" href="ecryptfs__kernel_8h.html#a8f0e0486293ab97cca8219ee1fee7f4b" title="ecryptfs_decrypt_page" alt="" coords="439,144,593,171"/><area shape="rect" id="node6" href="ecryptfs__kernel_8h.html#a8ebf9f9d953fc4f0f1e464ab16e9773d" title="ecryptfs_decrypt_pages" alt="" coords="659,169,821,196"/><area shape="rect" id="node7" href="ecryptfs__kernel_8h.html#a1fe598009db325ac45c099f00a506eaf" title="ecryptfs_read_and_validate\l_header_region" alt="" coords="192,246,373,287"/><area shape="rect" id="node10" href="ecryptfs__kernel_8h.html#a0f476d4db45796bb804042157fbd93fa" title="ecryptfs_read_metadata" alt="" coords="201,312,364,339"/><area shape="rect" id="node13" href="read__write_8c.html#a2348e4afee0be4d429778964b8943d2c" title="ecryptfs_read_lower\l_page_segment" alt="" coords="213,53,352,94"/><area shape="rect" id="node3" href="mmap_8c.html#a8f8e487f41eae0bd59f0f73483c8b0bd" title="ecryptfs_readpage" alt="" coords="675,39,805,65"/><area shape="rect" id="node5" href="mmap_8c.html#a6a4799f05bb0baa6b8d31732c51a633f" title="ecryptfs_write_begin" alt="" coords="669,93,811,120"/><area shape="rect" id="node4" href="mmap_8c.html#a817586e3c9558932635e84f23bbe3980" title="ecryptfs_readpages" alt="" coords="869,92,1005,119"/><area shape="rect" id="node8" href="inode_8c.html#ad1f58d0fd3b46f3063934fe8f6513f45" title="ecryptfs_lookup_and\l_interpose_lower" alt="" coords="445,246,587,287"/><area shape="rect" id="node9" href="inode_8c.html#ad77dbfd861f06cd54046a232ce7a5b3b" title="ecryptfs_lookup" alt="" coords="683,253,797,280"/><area shape="rect" id="node11" href="file_8c.html#ab77b53c00f24de64a0fcbb182f043f23" title="ecryptfs_open" alt="" coords="464,312,568,339"/><area shape="rect" id="node12" href="inode_8c.html#a34946e5592d6ec37a0d9cedef341291d" title="ecryptfs_setattr" alt="" coords="459,363,573,389"/><area shape="rect" id="node14" href="mmap_8c.html#a71adfacc67a2f9b01c0680e05f5a2a73" title="ecryptfs_copy_up_encrypted\l_with_header" alt="" coords="421,27,611,69"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2348e4afee0be4d429778964b8943d2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ecryptfs_read_lower_page_segment </td>
          <td>(</td>
          <td class="paramtype">struct page *&#160;</td>
          <td class="paramname"><em>page_for_ecryptfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&#160;</td>
          <td class="paramname"><em>page_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset_in_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct inode *&#160;</td>
          <td class="paramname"><em>ecryptfs_inode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ecryptfs_read_lower_page_segment : The page into which data for eCryptfs will be written : Offset in  from which to start writing : The number of bytes to write into  : The eCryptfs inode</p>
<p>Determines the byte offset in the file for the given page and offset within the page, maps the page, and makes the call to read the contents of  from the lower inode.</p>
<p>Returns zero on success; non-zero otherwise </p>

<p>Definition at line <a class="el" href="read__write_8c_source.html#l00399">399</a> of file <a class="el" href="read__write_8c_source.html">read_write.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="read__write_8c_a2348e4afee0be4d429778964b8943d2c_cgraph.png" border="0" usemap="#read__write_8c_a2348e4afee0be4d429778964b8943d2c_cgraph" alt=""/></div>
<map name="read__write_8c_a2348e4afee0be4d429778964b8943d2c_cgraph" id="read__write_8c_a2348e4afee0be4d429778964b8943d2c_cgraph">
<area shape="rect" id="node2" href="read__write_8c.html#a7a8f9447eb75e1878c99de4166fdd6fb" title="ecryptfs_read_lower" alt="" coords="192,12,331,39"/><area shape="rect" id="node3" href="ecryptfs__kernel_8h.html#a5240470a17155c25d11458eb2504a7ab" title="ecryptfs_inode_to_private" alt="" coords="379,12,549,39"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="read__write_8c_a2348e4afee0be4d429778964b8943d2c_icgraph.png" border="0" usemap="#read__write_8c_a2348e4afee0be4d429778964b8943d2c_icgraph" alt=""/></div>
<map name="read__write_8c_a2348e4afee0be4d429778964b8943d2c_icgraph" id="read__write_8c_a2348e4afee0be4d429778964b8943d2c_icgraph">
<area shape="rect" id="node2" href="mmap_8c.html#a71adfacc67a2f9b01c0680e05f5a2a73" title="ecryptfs_copy_up_encrypted\l_with_header" alt="" coords="192,25,381,66"/><area shape="rect" id="node3" href="mmap_8c.html#a8f8e487f41eae0bd59f0f73483c8b0bd" title="ecryptfs_readpage" alt="" coords="437,5,566,32"/><area shape="rect" id="node5" href="mmap_8c.html#a6a4799f05bb0baa6b8d31732c51a633f" title="ecryptfs_write_begin" alt="" coords="430,60,573,87"/><area shape="rect" id="node4" href="mmap_8c.html#a817586e3c9558932635e84f23bbe3980" title="ecryptfs_readpages" alt="" coords="621,5,757,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1f6fb7e71433ccea976b2cba69741f2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ecryptfs_write </td>
          <td>(</td>
          <td class="paramtype">struct inode *&#160;</td>
          <td class="paramname"><em>ecryptfs_inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ecryptfs_write : The eCryptfs file into which to write : Virtual address where data to write is located : Offset in the eCryptfs file at which to begin writing the data from  : The number of bytes to write from </p>
<p>Write an arbitrary amount of data to an arbitrary location in the eCryptfs inode page cache. This is done on a page-by-page, and then by an extent-by-extent, basis; individual extents are encrypted and written to the lower page cache (via VFS writes). This function takes care of all the address translation to locations in the lower filesystem; it also handles truncate events, writing out zeros where necessary.</p>
<p>Returns zero on success; non-zero otherwise </p>

<p>Definition at line <a class="el" href="read__write_8c_source.html#l00119">119</a> of file <a class="el" href="read__write_8c_source.html">read_write.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="read__write_8c_a1f6fb7e71433ccea976b2cba69741f2a_cgraph.png" border="0" usemap="#read__write_8c_a1f6fb7e71433ccea976b2cba69741f2a_cgraph" alt=""/></div>
<map name="read__write_8c_a1f6fb7e71433ccea976b2cba69741f2a_cgraph" id="read__write_8c_a1f6fb7e71433ccea976b2cba69741f2a_cgraph">
<area shape="rect" id="node2" href="ecryptfs__kernel_8h.html#a5240470a17155c25d11458eb2504a7ab" title="ecryptfs_inode_to_private" alt="" coords="801,315,972,341"/><area shape="rect" id="node3" href="ecryptfs__kernel_8h.html#aca1df323be205e111a6dfc298c4edada" title="ecryptfs_get_locked_page" alt="" coords="158,504,333,531"/><area shape="rect" id="node4" href="crypto_8c.html#a26de129ca477fc9762d6750b5020914f" title="ecryptfs_encrypt_page" alt="" coords="381,171,536,197"/><area shape="rect" id="node12" href="read__write_8c.html#a0b63d7743285b6e930dd7a651ba92ada" title="ecryptfs_write_lower\l_page_segment" alt="" coords="174,387,317,429"/><area shape="rect" id="node14" href="ecryptfs__kernel_8h.html#ae7f11bbda657ce45e00bcea3c689260b" title="ecryptfs_write_inode\l_size_to_metadata" alt="" coords="174,301,317,342"/><area shape="rect" id="node5" href="crypto_8c.html#a667352484e3769a93d4d6756207a6294" title="ecryptfs_encrypt_extent" alt="" coords="584,67,747,93"/><area shape="rect" id="node9" href="crypto_8c.html#a740d9efeadec638412712e946d489058" title="ecryptfs_lower_offset\l_for_extent" alt="" coords="592,118,739,159"/><area shape="rect" id="node11" href="ecryptfs__kernel_8h.html#abcca60d451f0a0e8ae33d8738d662fd7" title="ecryptfs_write_lower" alt="" coords="594,235,737,261"/><area shape="rect" id="node6" href="debug_8c.html#a045879c3d789610d64a216956beeaf09" title="ecryptfs_dump_hex" alt="" coords="1205,44,1341,71"/><area shape="rect" id="node7" href="crypto_8c.html#a4edeaa3bc6ab6aaf996f7a8c002c74a1" title="ecryptfs_encrypt_page\l_offset" alt="" coords="809,5,964,46"/><area shape="rect" id="node8" href="crypto_8c.html#a2557a0d17ec106c3b524579a1a68c17b" title="encrypt_scatterlist" alt="" coords="1027,16,1157,43"/><area shape="rect" id="node10" href="ecryptfs__kernel_8h.html#ab2813066482c96f346fbf23e1eba0d8f" title="ecryptfs_lower_header_size" alt="" coords="795,125,979,152"/><area shape="rect" id="node13" href="read__write_8c.html#abcca60d451f0a0e8ae33d8738d662fd7" title="ecryptfs_write_lower" alt="" coords="387,399,530,425"/><area shape="rect" id="node15" href="mmap_8c.html#a528f4af2fcdb491f72647ffc136b862a" title="ecryptfs_write_inode\l_size_to_xattr" alt="" coords="594,337,737,378"/><area shape="rect" id="node16" href="mmap_8c.html#a0b74e0ca76af820971547c9fca1d36d9" title="ecryptfs_write_inode\l_size_to_header" alt="" coords="387,222,530,263"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="read__write_8c_a1f6fb7e71433ccea976b2cba69741f2a_icgraph.png" border="0" usemap="#read__write_8c_a1f6fb7e71433ccea976b2cba69741f2a_icgraph" alt=""/></div>
<map name="read__write_8c_a1f6fb7e71433ccea976b2cba69741f2a_icgraph" id="read__write_8c_a1f6fb7e71433ccea976b2cba69741f2a_icgraph">
<area shape="rect" id="node2" href="inode_8c.html#a01b49555f54fc75f2ce9382cee60155e" title="grow_file" alt="" coords="175,5,249,32"/><area shape="rect" id="node5" href="inode_8c.html#a6d535560db4f881686903ff564b74faf" title="truncate_upper" alt="" coords="158,56,266,83"/><area shape="rect" id="node3" href="inode_8c.html#aa3e69b4fc3ab260970b7852e00b63ac1" title="ecryptfs_initialize_file" alt="" coords="315,5,461,32"/><area shape="rect" id="node4" href="inode_8c.html#a2b00e2205459387d2f180e8f055fbaa6" title="ecryptfs_create" alt="" coords="525,5,637,32"/><area shape="rect" id="node6" href="inode_8c.html#ae6d4593f3f6d169ca3ecc1a07550cec1" title="ecryptfs_truncate" alt="" coords="327,56,449,83"/><area shape="rect" id="node8" href="inode_8c.html#a34946e5592d6ec37a0d9cedef341291d" title="ecryptfs_setattr" alt="" coords="331,107,445,133"/><area shape="rect" id="node7" href="mmap_8c.html#a6a4799f05bb0baa6b8d31732c51a633f" title="ecryptfs_write_begin" alt="" coords="510,56,653,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7069e6270fd6afd0bb49e7259cd74810"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ecryptfs_write2 </td>
          <td>(</td>
          <td class="paramtype">struct inode *&#160;</td>
          <td class="paramname"><em>ecryptfs_inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="read__write_8c_source.html#l00223">223</a> of file <a class="el" href="read__write_8c_source.html">read_write.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="read__write_8c_a7069e6270fd6afd0bb49e7259cd74810_cgraph.png" border="0" usemap="#read__write_8c_a7069e6270fd6afd0bb49e7259cd74810_cgraph" alt=""/></div>
<map name="read__write_8c_a7069e6270fd6afd0bb49e7259cd74810_cgraph" id="read__write_8c_a7069e6270fd6afd0bb49e7259cd74810_cgraph">
<area shape="rect" id="node2" href="ecryptfs__kernel_8h.html#a5240470a17155c25d11458eb2504a7ab" title="ecryptfs_inode_to_private" alt="" coords="837,162,1008,189"/><area shape="rect" id="node3" href="ecryptfs__kernel_8h.html#aca1df323be205e111a6dfc298c4edada" title="ecryptfs_get_locked_page" alt="" coords="166,86,341,113"/><area shape="rect" id="node4" href="read__write_8c.html#a0b63d7743285b6e930dd7a651ba92ada" title="ecryptfs_write_lower\l_page_segment" alt="" coords="182,137,325,179"/><area shape="rect" id="node6" href="crypto_8c.html#a9ea5ca17a37e818f2bb40976b23adb9c" title="ecryptfs_encrypt_pages2" alt="" coords="389,319,557,346"/><area shape="rect" id="node11" href="ecryptfs__kernel_8h.html#ae7f11bbda657ce45e00bcea3c689260b" title="ecryptfs_write_inode\l_size_to_metadata" alt="" coords="182,203,325,244"/><area shape="rect" id="node5" href="read__write_8c.html#abcca60d451f0a0e8ae33d8738d662fd7" title="ecryptfs_write_lower" alt="" coords="626,86,769,113"/><area shape="rect" id="node7" href="crypto_8c.html#a2557a0d17ec106c3b524579a1a68c17b" title="encrypt_scatterlist" alt="" coords="633,390,762,417"/><area shape="rect" id="node9" href="ecryptfs__kernel_8h.html#ab2813066482c96f346fbf23e1eba0d8f" title="ecryptfs_lower_header_size" alt="" coords="605,339,789,366"/><area shape="rect" id="node10" href="ecryptfs__kernel_8h.html#abcca60d451f0a0e8ae33d8738d662fd7" title="ecryptfs_write_lower" alt="" coords="626,238,769,265"/><area shape="rect" id="node8" href="debug_8c.html#a045879c3d789610d64a216956beeaf09" title="ecryptfs_dump_hex" alt="" coords="855,390,991,417"/><area shape="rect" id="node12" href="mmap_8c.html#a528f4af2fcdb491f72647ffc136b862a" title="ecryptfs_write_inode\l_size_to_xattr" alt="" coords="402,188,545,229"/><area shape="rect" id="node13" href="mmap_8c.html#a0b74e0ca76af820971547c9fca1d36d9" title="ecryptfs_write_inode\l_size_to_header" alt="" coords="402,253,545,295"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="read__write_8c_a7069e6270fd6afd0bb49e7259cd74810_icgraph.png" border="0" usemap="#read__write_8c_a7069e6270fd6afd0bb49e7259cd74810_icgraph" alt=""/></div>
<map name="read__write_8c_a7069e6270fd6afd0bb49e7259cd74810_icgraph" id="read__write_8c_a7069e6270fd6afd0bb49e7259cd74810_icgraph">
<area shape="rect" id="node2" href="file_8c.html#a728728ea4482c58bb7b9cabbc7bfcd3f" title="ecryptfs_file_write" alt="" coords="165,5,293,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abcca60d451f0a0e8ae33d8738d662fd7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ecryptfs_write_lower </td>
          <td>(</td>
          <td class="paramtype">struct inode *&#160;</td>
          <td class="paramname"><em>ecryptfs_inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>eCryptfs: Linux filesystem encryption layer</p>
<p>Copyright (C) 2007 International Business Machines Corp. Author(s): Michael A. Halcrow <a href="#" onclick="location.href='mai'+'lto:'+'mah'+'al'+'cro'+'@u'+'s.i'+'bm'+'.co'+'m'; return false;">mahal<span style="display: none;">.nosp@m.</span>cro@<span style="display: none;">.nosp@m.</span>us.ib<span style="display: none;">.nosp@m.</span>m.co<span style="display: none;">.nosp@m.</span>m</a></p>
<p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.</p>
<p>See the GPL-COPYING file in the top-level directory.</p>
<p>Copyright (c) 2010-2011 University of Utah and the Flux Group. All rights reserved. ecryptfs_write_lower : The eCryptfs inode : Data to write : Byte offset in the lower file to which to write the data : Number of bytes from  to write at  in the lower file</p>
<p>Write data to the lower file.</p>
<p>Returns bytes written on success; less than zero on error </p>

<p>Definition at line <a class="el" href="read__write_8c_source.html#l00046">46</a> of file <a class="el" href="read__write_8c_source.html">read_write.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="read__write_8c_abcca60d451f0a0e8ae33d8738d662fd7_cgraph.png" border="0" usemap="#read__write_8c_abcca60d451f0a0e8ae33d8738d662fd7_cgraph" alt=""/></div>
<map name="read__write_8c_abcca60d451f0a0e8ae33d8738d662fd7_cgraph" id="read__write_8c_abcca60d451f0a0e8ae33d8738d662fd7_cgraph">
<area shape="rect" id="node2" href="ecryptfs__kernel_8h.html#a5240470a17155c25d11458eb2504a7ab" title="ecryptfs_inode_to_private" alt="" coords="197,5,368,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="read__write_8c_abcca60d451f0a0e8ae33d8738d662fd7_icgraph.png" border="0" usemap="#read__write_8c_abcca60d451f0a0e8ae33d8738d662fd7_icgraph" alt=""/></div>
<map name="read__write_8c_abcca60d451f0a0e8ae33d8738d662fd7_icgraph" id="read__write_8c_abcca60d451f0a0e8ae33d8738d662fd7_icgraph">
<area shape="rect" id="node2" href="ecryptfs__kernel_8h.html#a9ea5ca17a37e818f2bb40976b23adb9c" title="ecryptfs_encrypt_pages2" alt="" coords="197,29,365,56"/><area shape="rect" id="node5" href="ecryptfs__kernel_8h.html#a26de129ca477fc9762d6750b5020914f" title="ecryptfs_encrypt_page" alt="" coords="419,212,573,239"/><area shape="rect" id="node16" href="crypto_8c.html#ace3f04fde63f77ad0f5161ccdf102f8b" title="ecryptfs_write_metadata\l_to_contents" alt="" coords="199,285,364,326"/><area shape="rect" id="node18" href="mmap_8c.html#a0b74e0ca76af820971547c9fca1d36d9" title="ecryptfs_write_inode\l_size_to_header" alt="" coords="210,146,353,187"/><area shape="rect" id="node20" href="read__write_8c.html#a0b63d7743285b6e930dd7a651ba92ada" title="ecryptfs_write_lower\l_page_segment" alt="" coords="425,81,567,122"/><area shape="rect" id="node3" href="read__write_8c.html#a7069e6270fd6afd0bb49e7259cd74810" title="ecryptfs_write2" alt="" coords="653,5,763,32"/><area shape="rect" id="node4" href="file_8c.html#a728728ea4482c58bb7b9cabbc7bfcd3f" title="ecryptfs_file_write" alt="" coords="843,5,971,32"/><area shape="rect" id="node6" href="mmap_8c.html#a1c709c67cbb144bffe29cff5a7ac0f8c" title="ecryptfs_writepage" alt="" coords="642,309,774,336"/><area shape="rect" id="node7" href="mmap_8c.html#aba2c17cca4323636c254626963421f3f" title="ecryptfs_write_end" alt="" coords="642,107,774,133"/><area shape="rect" id="node8" href="read__write_8c.html#a1f6fb7e71433ccea976b2cba69741f2a" title="ecryptfs_write" alt="" coords="656,208,760,235"/><area shape="rect" id="node9" href="inode_8c.html#a01b49555f54fc75f2ce9382cee60155e" title="grow_file" alt="" coords="869,259,944,285"/><area shape="rect" id="node12" href="inode_8c.html#a6d535560db4f881686903ff564b74faf" title="truncate_upper" alt="" coords="853,183,961,209"/><area shape="rect" id="node10" href="inode_8c.html#aa3e69b4fc3ab260970b7852e00b63ac1" title="ecryptfs_initialize_file" alt="" coords="1024,316,1171,343"/><area shape="rect" id="node11" href="inode_8c.html#a2b00e2205459387d2f180e8f055fbaa6" title="ecryptfs_create" alt="" coords="1235,316,1347,343"/><area shape="rect" id="node13" href="inode_8c.html#ae6d4593f3f6d169ca3ecc1a07550cec1" title="ecryptfs_truncate" alt="" coords="1036,221,1159,248"/><area shape="rect" id="node15" href="inode_8c.html#a34946e5592d6ec37a0d9cedef341291d" title="ecryptfs_setattr" alt="" coords="1041,171,1154,197"/><area shape="rect" id="node14" href="mmap_8c.html#a6a4799f05bb0baa6b8d31732c51a633f" title="ecryptfs_write_begin" alt="" coords="1219,221,1362,248"/><area shape="rect" id="node17" href="ecryptfs__kernel_8h.html#aebe428f37c6e93d1e18cdc4a7b40e1f6" title="ecryptfs_write_metadata" alt="" coords="413,335,579,361"/><area shape="rect" id="node19" href="mmap_8c.html#ae7f11bbda657ce45e00bcea3c689260b" title="ecryptfs_write_inode\l_size_to_metadata" alt="" coords="425,146,567,187"/><area shape="rect" id="node21" href="ecryptfs__kernel_8h.html#a83ba6402513da64241081017b40210f9" title="ecryptfs_encrypt_pages" alt="" coords="627,56,789,83"/><area shape="rect" id="node22" href="mmap_8c.html#a6271dcf41ac10f0950eddf5c10a9d0f6" title="ecryptfs_writepages" alt="" coords="837,56,976,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0b63d7743285b6e930dd7a651ba92ada"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ecryptfs_write_lower_page_segment </td>
          <td>(</td>
          <td class="paramtype">struct inode *&#160;</td>
          <td class="paramname"><em>ecryptfs_inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct page *&#160;</td>
          <td class="paramname"><em>page_for_lower</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset_in_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ecryptfs_write_lower_page_segment : The eCryptfs inode : The page containing the data to be written to the lower file : The offset in the  from which to start writing the data : The amount of data from  to write to the lower file</p>
<p>Determines the byte offset in the file for the given page and offset within the page, maps the page, and makes the call to write the contents of  to the lower inode.</p>
<p>Returns zero on success; non-zero otherwise </p>

<p>Definition at line <a class="el" href="read__write_8c_source.html#l00083">83</a> of file <a class="el" href="read__write_8c_source.html">read_write.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="read__write_8c_a0b63d7743285b6e930dd7a651ba92ada_cgraph.png" border="0" usemap="#read__write_8c_a0b63d7743285b6e930dd7a651ba92ada_cgraph" alt=""/></div>
<map name="read__write_8c_a0b63d7743285b6e930dd7a651ba92ada_cgraph" id="read__write_8c_a0b63d7743285b6e930dd7a651ba92ada_cgraph">
<area shape="rect" id="node2" href="read__write_8c.html#abcca60d451f0a0e8ae33d8738d662fd7" title="ecryptfs_write_lower" alt="" coords="198,12,341,39"/><area shape="rect" id="node3" href="ecryptfs__kernel_8h.html#a5240470a17155c25d11458eb2504a7ab" title="ecryptfs_inode_to_private" alt="" coords="389,12,560,39"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="read__write_8c_a0b63d7743285b6e930dd7a651ba92ada_icgraph.png" border="0" usemap="#read__write_8c_a0b63d7743285b6e930dd7a651ba92ada_icgraph" alt=""/></div>
<map name="read__write_8c_a0b63d7743285b6e930dd7a651ba92ada_icgraph" id="read__write_8c_a0b63d7743285b6e930dd7a651ba92ada_icgraph">
<area shape="rect" id="node2" href="ecryptfs__kernel_8h.html#a83ba6402513da64241081017b40210f9" title="ecryptfs_encrypt_pages" alt="" coords="198,5,359,32"/><area shape="rect" id="node4" href="mmap_8c.html#aba2c17cca4323636c254626963421f3f" title="ecryptfs_write_end" alt="" coords="213,56,345,83"/><area shape="rect" id="node5" href="read__write_8c.html#a1f6fb7e71433ccea976b2cba69741f2a" title="ecryptfs_write" alt="" coords="227,107,331,133"/><area shape="rect" id="node13" href="read__write_8c.html#a7069e6270fd6afd0bb49e7259cd74810" title="ecryptfs_write2" alt="" coords="223,157,334,184"/><area shape="rect" id="node3" href="mmap_8c.html#a6271dcf41ac10f0950eddf5c10a9d0f6" title="ecryptfs_writepages" alt="" coords="408,5,547,32"/><area shape="rect" id="node6" href="inode_8c.html#a01b49555f54fc75f2ce9382cee60155e" title="grow_file" alt="" coords="440,56,515,83"/><area shape="rect" id="node9" href="inode_8c.html#a6d535560db4f881686903ff564b74faf" title="truncate_upper" alt="" coords="423,107,531,133"/><area shape="rect" id="node7" href="inode_8c.html#aa3e69b4fc3ab260970b7852e00b63ac1" title="ecryptfs_initialize_file" alt="" coords="595,56,741,83"/><area shape="rect" id="node8" href="inode_8c.html#a2b00e2205459387d2f180e8f055fbaa6" title="ecryptfs_create" alt="" coords="805,56,917,83"/><area shape="rect" id="node10" href="inode_8c.html#ae6d4593f3f6d169ca3ecc1a07550cec1" title="ecryptfs_truncate" alt="" coords="607,107,729,133"/><area shape="rect" id="node12" href="inode_8c.html#a34946e5592d6ec37a0d9cedef341291d" title="ecryptfs_setattr" alt="" coords="611,157,725,184"/><area shape="rect" id="node11" href="mmap_8c.html#a6a4799f05bb0baa6b8d31732c51a633f" title="ecryptfs_write_begin" alt="" coords="790,107,933,133"/><area shape="rect" id="node14" href="file_8c.html#a728728ea4482c58bb7b9cabbc7bfcd3f" title="ecryptfs_file_write" alt="" coords="413,157,541,184"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_e21752eb5e4b36c827bff61d317f78b6.html">services</a></li><li class="navelem"><a class="el" href="dir_c51145f6003b9bc92d3c8072bd9cc295.html">gaes</a></li><li class="navelem"><a class="el" href="dir_32c6c2c05be1954f867927059ab19ff9.html">ecryptfs</a></li><li class="navelem"><a class="el" href="read__write_8c.html">read_write.c</a></li>
    <li class="footer">Generated on Sun Dec 7 2014 14:58:24 for KGPU by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
