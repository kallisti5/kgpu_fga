<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>KGPU: services/gaes/ecryptfs/file.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">KGPU
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('file_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">file.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/file.h&gt;</code><br/>
<code>#include &lt;linux/poll.h&gt;</code><br/>
<code>#include &lt;linux/slab.h&gt;</code><br/>
<code>#include &lt;linux/mount.h&gt;</code><br/>
<code>#include &lt;linux/pagemap.h&gt;</code><br/>
<code>#include &lt;linux/security.h&gt;</code><br/>
<code>#include &lt;linux/compat.h&gt;</code><br/>
<code>#include &lt;linux/fs_stack.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="ecryptfs__kernel_8h_source.html">ecryptfs_kernel.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for file.c:</div>
<div class="dyncontent">
<div class="center"><img src="file_8c__incl.png" border="0" usemap="#services_2gaes_2ecryptfs_2file_8c" alt=""/></div>
<map name="services_2gaes_2ecryptfs_2file_8c" id="services_2gaes_2ecryptfs_2file_8c">
<area shape="rect" id="node10" href="ecryptfs__kernel_8h.html" title="ecryptfs_kernel.h" alt="" coords="1049,96,1172,123"/></map>
</div>
</div>
<p><a href="file_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structecryptfs__getdents__callback.html">ecryptfs_getdents_callback</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa70efc296dffe3abafc4fc993c1c831b"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#aa70efc296dffe3abafc4fc993c1c831b">ecryptfs_read_update_atime</a> (struct kiocb *iocb, const struct iovec *iov, unsigned long nr_segs, loff_t pos)</td></tr>
<tr class="separator:aa70efc296dffe3abafc4fc993c1c831b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedaa546a81860ed0159a408464edf5f3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#aedaa546a81860ed0159a408464edf5f3">ecryptfs_filldir</a> (void *dirent, const char *lower_name, int lower_namelen, loff_t offset, <a class="el" href="gaesu_8h.html#ac0b0e5ad15a599850f4ca02c451110ba">u64</a> ino, unsigned int d_type)</td></tr>
<tr class="separator:aedaa546a81860ed0159a408464edf5f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a157ee122e9a256f1b7b93edd406fd088"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a157ee122e9a256f1b7b93edd406fd088">ecryptfs_readdir</a> (struct file *file, void *dirent, filldir_t filldir)</td></tr>
<tr class="separator:a157ee122e9a256f1b7b93edd406fd088"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab77b53c00f24de64a0fcbb182f043f23"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#ab77b53c00f24de64a0fcbb182f043f23">ecryptfs_open</a> (struct inode *inode, struct file *file)</td></tr>
<tr class="separator:ab77b53c00f24de64a0fcbb182f043f23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80cbaa04e8180a9d394677f5acbee8c6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a80cbaa04e8180a9d394677f5acbee8c6">ecryptfs_flush</a> (struct file *file, fl_owner_t td)</td></tr>
<tr class="separator:a80cbaa04e8180a9d394677f5acbee8c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cd17edb24424c96a47d5ad3885f469d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a9cd17edb24424c96a47d5ad3885f469d">ecryptfs_release</a> (struct inode *inode, struct file *file)</td></tr>
<tr class="separator:a9cd17edb24424c96a47d5ad3885f469d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c063f2bd106063e9ddef2d69ed19f10"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a1c063f2bd106063e9ddef2d69ed19f10">ecryptfs_fsync</a> (struct file *file, int datasync)</td></tr>
<tr class="separator:a1c063f2bd106063e9ddef2d69ed19f10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4da3fa115adf9a507e5621e43a576de"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#ac4da3fa115adf9a507e5621e43a576de">ecryptfs_fasync</a> (int fd, struct file *file, int flag)</td></tr>
<tr class="separator:ac4da3fa115adf9a507e5621e43a576de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d02dc6e3d912157ffe8214ac62f4fc3"><td class="memItemLeft" align="right" valign="top">static long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a6d02dc6e3d912157ffe8214ac62f4fc3">ecryptfs_unlocked_ioctl</a> (struct file *file, unsigned int cmd, unsigned long arg)</td></tr>
<tr class="separator:a6d02dc6e3d912157ffe8214ac62f4fc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a728728ea4482c58bb7b9cabbc7bfcd3f"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a728728ea4482c58bb7b9cabbc7bfcd3f">ecryptfs_file_write</a> (struct file *f, const char __user *buf, size_t sz, loff_t *poffset)</td></tr>
<tr class="separator:a728728ea4482c58bb7b9cabbc7bfcd3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aa4120b586a7b42ac8aa345a7c99e14ad"><td class="memItemLeft" align="right" valign="top">struct kmem_cache *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#aa4120b586a7b42ac8aa345a7c99e14ad">ecryptfs_file_info_cache</a></td></tr>
<tr class="separator:aa4120b586a7b42ac8aa345a7c99e14ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34348c47da7fd1566538fe612bf221e0"><td class="memItemLeft" align="right" valign="top">const struct file_operations&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#a34348c47da7fd1566538fe612bf221e0">ecryptfs_dir_fops</a></td></tr>
<tr class="separator:a34348c47da7fd1566538fe612bf221e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfb79e9386318260375f8526ef23f4a5"><td class="memItemLeft" align="right" valign="top">const struct file_operations&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file_8c.html#adfb79e9386318260375f8526ef23f4a5">ecryptfs_main_fops</a></td></tr>
<tr class="separator:adfb79e9386318260375f8526ef23f4a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ac4da3fa115adf9a507e5621e43a576de"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ecryptfs_fasync </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l00290">290</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="file_8c_ac4da3fa115adf9a507e5621e43a576de_cgraph.png" border="0" usemap="#file_8c_ac4da3fa115adf9a507e5621e43a576de_cgraph" alt=""/></div>
<map name="file_8c_ac4da3fa115adf9a507e5621e43a576de_cgraph" id="file_8c_ac4da3fa115adf9a507e5621e43a576de_cgraph">
<area shape="rect" id="node2" href="ecryptfs__kernel_8h.html#a154f061616b301585f744a193d223bc6" title="ecryptfs_file_to_lower" alt="" coords="168,5,317,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a728728ea4482c58bb7b9cabbc7bfcd3f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t ecryptfs_file_write </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char __user *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&#160;</td>
          <td class="paramname"><em>poffset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l00345">345</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="file_8c_a728728ea4482c58bb7b9cabbc7bfcd3f_cgraph.png" border="0" usemap="#file_8c_a728728ea4482c58bb7b9cabbc7bfcd3f_cgraph" alt=""/></div>
<map name="file_8c_a728728ea4482c58bb7b9cabbc7bfcd3f_cgraph" id="file_8c_a728728ea4482c58bb7b9cabbc7bfcd3f_cgraph">
<area shape="rect" id="node2" href="ecryptfs__kernel_8h.html#a9544477580b4f670e6bc5792a4412cb2" title="ecryptfs_write2" alt="" coords="182,145,293,171"/><area shape="rect" id="node3" href="ecryptfs__kernel_8h.html#a5240470a17155c25d11458eb2504a7ab" title="ecryptfs_inode_to_private" alt="" coords="1013,162,1184,189"/><area shape="rect" id="node4" href="ecryptfs__kernel_8h.html#aca1df323be205e111a6dfc298c4edada" title="ecryptfs_get_locked_page" alt="" coords="342,86,517,113"/><area shape="rect" id="node5" href="read__write_8c.html#a0b63d7743285b6e930dd7a651ba92ada" title="ecryptfs_write_lower\l_page_segment" alt="" coords="358,137,501,179"/><area shape="rect" id="node7" href="crypto_8c.html#a9ea5ca17a37e818f2bb40976b23adb9c" title="ecryptfs_encrypt_pages2" alt="" coords="565,319,733,346"/><area shape="rect" id="node12" href="ecryptfs__kernel_8h.html#ae7f11bbda657ce45e00bcea3c689260b" title="ecryptfs_write_inode\l_size_to_metadata" alt="" coords="358,203,501,244"/><area shape="rect" id="node6" href="read__write_8c.html#abcca60d451f0a0e8ae33d8738d662fd7" title="ecryptfs_write_lower" alt="" coords="802,86,945,113"/><area shape="rect" id="node8" href="crypto_8c.html#a2557a0d17ec106c3b524579a1a68c17b" title="encrypt_scatterlist" alt="" coords="809,390,938,417"/><area shape="rect" id="node10" href="ecryptfs__kernel_8h.html#ab2813066482c96f346fbf23e1eba0d8f" title="ecryptfs_lower_header_size" alt="" coords="781,339,965,366"/><area shape="rect" id="node11" href="ecryptfs__kernel_8h.html#abcca60d451f0a0e8ae33d8738d662fd7" title="ecryptfs_write_lower" alt="" coords="802,238,945,265"/><area shape="rect" id="node9" href="debug_8c.html#a045879c3d789610d64a216956beeaf09" title="ecryptfs_dump_hex" alt="" coords="1031,390,1167,417"/><area shape="rect" id="node13" href="mmap_8c.html#a528f4af2fcdb491f72647ffc136b862a" title="ecryptfs_write_inode\l_size_to_xattr" alt="" coords="578,188,721,229"/><area shape="rect" id="node14" href="mmap_8c.html#a0b74e0ca76af820971547c9fca1d36d9" title="ecryptfs_write_inode\l_size_to_header" alt="" coords="578,253,721,295"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aedaa546a81860ed0159a408464edf5f3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ecryptfs_filldir </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dirent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>lower_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lower_namelen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gaesu_8h.html#ac0b0e5ad15a599850f4ca02c451110ba">u64</a>&#160;</td>
          <td class="paramname"><em>ino</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>d_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l00086">86</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="file_8c_aedaa546a81860ed0159a408464edf5f3_cgraph.png" border="0" usemap="#file_8c_aedaa546a81860ed0159a408464edf5f3_cgraph" alt=""/></div>
<map name="file_8c_aedaa546a81860ed0159a408464edf5f3_cgraph" id="file_8c_aedaa546a81860ed0159a408464edf5f3_cgraph">
<area shape="rect" id="node2" href="crypto_8c.html#a003450260d7483c53860bb214791bda6" title="ecryptfs_decode_and\l_decrypt_filename" alt="" coords="157,123,304,165"/><area shape="rect" id="node3" href="ecryptfs__kernel_8h.html#ab0987a55f9bd100b72e69f9dc54d1e39" title="ecryptfs_superblock\l_to_private" alt="" coords="363,25,501,66"/><area shape="rect" id="node4" href="crypto_8c.html#abcbf6726b92e8d2c0523c8a73d29645b" title="ecryptfs_decode_from\l_filename" alt="" coords="357,90,507,131"/><area shape="rect" id="node5" href="ecryptfs__kernel_8h.html#a09ab4784796d57d0e2ab0ff611cc6eee" title="ecryptfs_parse_tag\l_70_packet" alt="" coords="365,155,499,197"/><area shape="rect" id="node23" href="crypto_8c.html#a3ab2be85b67e070ec5d18d375068a9af" title="ecryptfs_copy_filename" alt="" coords="352,221,512,248"/><area shape="rect" id="node6" href="keystore_8c.html#a927e62aec0955db0c1a411dac02486e4" title="ecryptfs_parse_packet\l_length" alt="" coords="567,5,721,46"/><area shape="rect" id="node7" href="crypto_8c.html#a600a433968f0fca6c59d0503e4a13adc" title="ecryptfs_to_hex" alt="" coords="587,71,701,97"/><area shape="rect" id="node8" href="crypto_8c.html#a9ec4f1a07858b147d07a4691fccc9741" title="ecryptfs_cipher_code\l_to_string" alt="" coords="571,122,717,163"/><area shape="rect" id="node9" href="crypto_8c.html#af479d34da23aa4c6382373fdce1f7bbf" title="ecryptfs_get_tfm_and\l_mutex_for_cipher_name" alt="" coords="560,187,728,229"/><area shape="rect" id="node16" href="crypto_8c.html#a192ec172108f38b6c893f631d0ed6cc4" title="virt_to_scatterlist" alt="" coords="583,253,705,280"/><area shape="rect" id="node17" href="keystore_8c.html#ad400c5f10bbfd94c8fadd91a2cc3f908" title="ecryptfs_find_auth\l_tok_for_sig" alt="" coords="579,305,709,346"/><area shape="rect" id="node10" href="crypto_8c.html#a546635bf3080054059b6f8cef79ca4c1" title="ecryptfs_tfm_exists" alt="" coords="799,164,937,191"/><area shape="rect" id="node11" href="crypto_8c.html#a41519bf356d367a394b8efb980ee6e51" title="ecryptfs_add_new_key_tfm" alt="" coords="777,215,959,241"/><area shape="rect" id="node12" href="crypto_8c.html#a89e7a8582efdfa475ae354125c5abb25" title="ecryptfs_process_key\l_cipher" alt="" coords="1037,169,1187,210"/><area shape="rect" id="node14" href="list_8h.html#a0373c4b3c8ce51a451a569ad978b32e1" title="list_add" alt="" coords="1079,235,1145,261"/><area shape="rect" id="node13" href="crypto_8c.html#a5901e51bc8f4d9b71eb0c0692e483b6f" title="ecryptfs_crypto_api\l_algify_cipher_name" alt="" coords="1264,169,1405,210"/><area shape="rect" id="node15" href="list_8h.html#a8a28f150a191624bf6923a48cdace7e3" title="__list_add" alt="" coords="1294,235,1375,261"/><area shape="rect" id="node18" href="keystore_8c.html#a2a70f7a5ff64535e0cb220b179e1982f" title="ecryptfs_find_global\l_auth_tok_for_sig" alt="" coords="799,283,937,325"/><area shape="rect" id="node19" href="keystore_8c.html#ab6b148e66717e54b2087a18b51531450" title="ecryptfs_keyring_auth\l_tok_for_sig" alt="" coords="793,349,943,390"/><area shape="rect" id="node20" href="keystore_8c.html#a8e375031494d4e18494b23647b117360" title="process_request_key_err" alt="" coords="1028,305,1196,332"/><area shape="rect" id="node21" href="ecryptfs__kernel_8h.html#a17cb5e0da33b0a3da45e14fb4085ad6a" title="ecryptfs_get_key_payload_data" alt="" coords="1009,356,1215,383"/><area shape="rect" id="node22" href="keystore_8c.html#a51fbc3dfa25435572fbb4c39efb8b515" title="ecryptfs_verify_version" alt="" coords="1033,407,1191,433"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="file_8c_aedaa546a81860ed0159a408464edf5f3_icgraph.png" border="0" usemap="#file_8c_aedaa546a81860ed0159a408464edf5f3_icgraph" alt=""/></div>
<map name="file_8c_aedaa546a81860ed0159a408464edf5f3_icgraph" id="file_8c_aedaa546a81860ed0159a408464edf5f3_icgraph">
<area shape="rect" id="node2" href="file_8c.html#a157ee122e9a256f1b7b93edd406fd088" title="ecryptfs_readdir" alt="" coords="157,5,272,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a80cbaa04e8180a9d394677f5acbee8c6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ecryptfs_flush </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fl_owner_t&#160;</td>
          <td class="paramname"><em>td</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l00261">261</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="file_8c_a80cbaa04e8180a9d394677f5acbee8c6_cgraph.png" border="0" usemap="#file_8c_a80cbaa04e8180a9d394677f5acbee8c6_cgraph" alt=""/></div>
<map name="file_8c_a80cbaa04e8180a9d394677f5acbee8c6_cgraph" id="file_8c_a80cbaa04e8180a9d394677f5acbee8c6_cgraph">
<area shape="rect" id="node2" href="ecryptfs__kernel_8h.html#a154f061616b301585f744a193d223bc6" title="ecryptfs_file_to_lower" alt="" coords="157,5,307,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1c063f2bd106063e9ddef2d69ed19f10"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ecryptfs_fsync </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>datasync</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l00283">283</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="file_8c_a1c063f2bd106063e9ddef2d69ed19f10_cgraph.png" border="0" usemap="#file_8c_a1c063f2bd106063e9ddef2d69ed19f10_cgraph" alt=""/></div>
<map name="file_8c_a1c063f2bd106063e9ddef2d69ed19f10_cgraph" id="file_8c_a1c063f2bd106063e9ddef2d69ed19f10_cgraph">
<area shape="rect" id="node2" href="ecryptfs__kernel_8h.html#a154f061616b301585f744a193d223bc6" title="ecryptfs_file_to_lower" alt="" coords="163,5,312,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab77b53c00f24de64a0fcbb182f043f23"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ecryptfs_open </td>
          <td>(</td>
          <td class="paramtype">struct inode *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l00159">159</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="file_8c_ab77b53c00f24de64a0fcbb182f043f23_cgraph.png" border="0" usemap="#file_8c_ab77b53c00f24de64a0fcbb182f043f23_cgraph" alt=""/></div>
<map name="file_8c_ab77b53c00f24de64a0fcbb182f043f23_cgraph" id="file_8c_ab77b53c00f24de64a0fcbb182f043f23_cgraph">
<area shape="rect" id="node2" href="ecryptfs__kernel_8h.html#ab0987a55f9bd100b72e69f9dc54d1e39" title="ecryptfs_superblock\l_to_private" alt="" coords="639,625,777,666"/><area shape="rect" id="node3" href="ecryptfs__kernel_8h.html#a16a0a7ed240cf68d8fa442013081788c" title="ecryptfs_set_file_private" alt="" coords="166,752,330,779"/><area shape="rect" id="node4" href="ecryptfs__kernel_8h.html#ac2ee045a66c2ebc91f8a5dbc00570d95" title="ecryptfs_dentry_to\l_lower" alt="" coords="413,549,544,590"/><area shape="rect" id="node5" href="ecryptfs__kernel_8h.html#a5240470a17155c25d11458eb2504a7ab" title="ecryptfs_inode_to_private" alt="" coords="623,203,793,229"/><area shape="rect" id="node6" href="ecryptfs__kernel_8h.html#ae104678223078d0e994a05f8e37c8be0" title="ecryptfs_init_persistent_file" alt="" coords="157,621,339,648"/><area shape="rect" id="node11" href="ecryptfs__kernel_8h.html#aa4c540f6e5cdd22455bcdaf164307684" title="ecryptfs_set_file_lower" alt="" coords="170,803,326,829"/><area shape="rect" id="node12" href="crypto_8c.html#a0f476d4db45796bb804042157fbd93fa" title="ecryptfs_read_metadata" alt="" coords="167,388,329,415"/><area shape="rect" id="node50" href="ecryptfs__kernel_8h.html#a0647924d0167d8fd8b602b761132f52c" title="ecryptfs_file_to_private" alt="" coords="169,853,327,880"/><area shape="rect" id="node7" href="ecryptfs__kernel_8h.html#ae68237515879c1ac49347f1260ec5322" title="ecryptfs_dentry_to\l_lower_mnt" alt="" coords="413,614,544,655"/><area shape="rect" id="node8" href="ecryptfs__kernel_8h.html#a54ccee3232169d97ce54f748b4f4be54" title="ecryptfs_privileged_open" alt="" coords="395,680,562,707"/><area shape="rect" id="node9" href="list_8h.html#a588bec046f1e9797b33a5c5ab250f447" title="list_add_tail" alt="" coords="663,813,753,840"/><area shape="rect" id="node10" href="list_8h.html#a8a28f150a191624bf6923a48cdace7e3" title="__list_add" alt="" coords="1335,772,1417,799"/><area shape="rect" id="node13" href="crypto_8c.html#a4c1f20c33cc83c9fae00176557a101d2" title="ecryptfs_copy_mount\l_wide_flags_to_inode_flags" alt="" coords="387,213,570,254"/><area shape="rect" id="node14" href="ecryptfs__kernel_8h.html#a7a8f9447eb75e1878c99de4166fdd6fb" title="ecryptfs_read_lower" alt="" coords="409,279,548,305"/><area shape="rect" id="node15" href="crypto_8c.html#a1971b0423a0e1cbe741f78712d319b20" title="ecryptfs_read_headers_virt" alt="" coords="389,447,568,473"/><area shape="rect" id="node48" href="crypto_8c.html#a0328356e623d00183afc5c85cc63e932" title="ecryptfs_read_xattr\l_region" alt="" coords="411,381,546,422"/><area shape="rect" id="node16" href="crypto_8c.html#ae0c1e94df9a9186bb509360c1476c353" title="ecryptfs_set_default\l_sizes" alt="" coords="638,305,778,346"/><area shape="rect" id="node18" href="crypto_8c.html#a6351e3152155696288917740cc9c849d" title="contains_ecryptfs_marker" alt="" coords="622,573,794,600"/><area shape="rect" id="node19" href="crypto_8c.html#a70ef2b489032eed23b63b36ef67b99fc" title="ecryptfs_process_flags" alt="" coords="629,371,787,397"/><area shape="rect" id="node20" href="crypto_8c.html#abc63e296860a38dd41bb90bd8bbcde51" title="parse_header_metadata" alt="" coords="627,421,789,448"/><area shape="rect" id="node21" href="crypto_8c.html#a7547fa51803046747c7184904e499062" title="set_default_header_data" alt="" coords="626,472,790,499"/><area shape="rect" id="node22" href="ecryptfs__kernel_8h.html#a44ad4f9a58b735c6d9891a06df838671" title="ecryptfs_parse_packet_set" alt="" coords="619,523,797,549"/><area shape="rect" id="node17" href="crypto_8c.html#a021875e559b602a9bd59ef32416337dc" title="set_extent_mask_and\l_shift" alt="" coords="857,5,1007,46"/><area shape="rect" id="node23" href="list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4" title="INIT_LIST_HEAD" alt="" coords="868,581,996,608"/><area shape="rect" id="node24" href="keystore_8c.html#a32c87c3d9f5f82f8e86006f94b9130d3" title="parse_tag_3_packet" alt="" coords="863,296,1001,323"/><area shape="rect" id="node27" href="crypto_8c.html#aa6806b87a57ada237cc52b391b0b70dc" title="ecryptfs_init_crypt_ctx" alt="" coords="1081,187,1236,213"/><area shape="rect" id="node29" href="keystore_8c.html#a30981d0242b86acbe5a11d007022a828" title="parse_tag_11_packet" alt="" coords="859,136,1005,163"/><area shape="rect" id="node30" href="crypto_8c.html#a600a433968f0fca6c59d0503e4a13adc" title="ecryptfs_to_hex" alt="" coords="1101,760,1216,787"/><area shape="rect" id="node31" href="keystore_8c.html#ac0f59c651d74024aedd73031beadeca5" title="parse_tag_1_packet" alt="" coords="863,632,1001,659"/><area shape="rect" id="node32" href="list_8h.html#a6601e54d8f27ab290ee6819f7e2127b7" title="list_empty" alt="" coords="891,885,973,912"/><area shape="rect" id="node33" href="debug_8c.html#a77caaec801939ef76ff0cb3c11e529b4" title="ecryptfs_dump_auth_tok" alt="" coords="849,683,1015,709"/><area shape="rect" id="node35" href="keystore_8c.html#a5192f320ce5afdac99056c1e06ad771f" title="ecryptfs_get_auth_tok_sig" alt="" coords="1071,557,1246,584"/><area shape="rect" id="node36" href="keystore_8c.html#ad400c5f10bbfd94c8fadd91a2cc3f908" title="ecryptfs_find_auth\l_tok_for_sig" alt="" coords="867,70,997,111"/><area shape="rect" id="node39" href="keystore_8c.html#a5cd91ea24b792d9718c66c4f930ef730" title="decrypt_pki_encrypted\l_session_key" alt="" coords="855,398,1009,439"/><area shape="rect" id="node44" href="keystore_8c.html#a9b8a7767d3634e57b9fbe484cc680ad0" title="decrypt_passphrase\l_encrypted_session_key" alt="" coords="849,515,1015,557"/><area shape="rect" id="node45" href="list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title="list_del" alt="" coords="1127,823,1190,849"/><area shape="rect" id="node46" href="crypto_8c.html#a010c33619300979023e302badcdbd3b5" title="ecryptfs_compute_root_iv" alt="" coords="846,347,1018,373"/><area shape="rect" id="node47" href="keystore_8c.html#a90a8b7a243cf75059dfee4f58aed97a2" title="wipe_auth_tok_list" alt="" coords="867,835,997,861"/><area shape="rect" id="node25" href="keystore_8c.html#a927e62aec0955db0c1a411dac02486e4" title="ecryptfs_parse_packet\l_length" alt="" coords="1299,365,1453,406"/><area shape="rect" id="node26" href="crypto_8c.html#a9ec4f1a07858b147d07a4691fccc9741" title="ecryptfs_cipher_code\l_to_string" alt="" coords="1085,289,1232,330"/><area shape="rect" id="node28" href="list_8h.html#a0373c4b3c8ce51a451a569ad978b32e1" title="list_add" alt="" coords="1125,608,1192,635"/><area shape="rect" id="node34" href="debug_8c.html#a045879c3d789610d64a216956beeaf09" title="ecryptfs_dump_hex" alt="" coords="1091,659,1227,685"/><area shape="rect" id="node37" href="keystore_8c.html#a2a70f7a5ff64535e0cb220b179e1982f" title="ecryptfs_find_global\l_auth_tok_for_sig" alt="" coords="1089,5,1228,46"/><area shape="rect" id="node38" href="keystore_8c.html#ab6b148e66717e54b2087a18b51531450" title="ecryptfs_keyring_auth\l_tok_for_sig" alt="" coords="1083,70,1234,111"/><area shape="rect" id="node40" href="keystore_8c.html#a139436651ca07d4aa32396fbae14d1f9" title="write_tag_64_packet" alt="" coords="1087,405,1230,432"/><area shape="rect" id="node41" href="ecryptfs__kernel_8h.html#a4991d4be187f4947e178b45b1a759d68" title="ecryptfs_send_message" alt="" coords="1077,456,1241,483"/><area shape="rect" id="node42" href="ecryptfs__kernel_8h.html#a69946a18f3a52d43a34a76f700dea047" title="ecryptfs_wait_for_response" alt="" coords="1067,355,1250,381"/><area shape="rect" id="node43" href="keystore_8c.html#a01fe01b7c058e56d355ac11eca7a3749" title="parse_tag_65_packet" alt="" coords="1085,507,1232,533"/><area shape="rect" id="node49" href="ecryptfs__kernel_8h.html#a0db90fed68f8445f1edba3136bc2b11a" title="ecryptfs_getxattr_lower" alt="" coords="629,253,787,280"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa70efc296dffe3abafc4fc993c1c831b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t ecryptfs_read_update_atime </td>
          <td>(</td>
          <td class="paramtype">struct kiocb *&#160;</td>
          <td class="paramname"><em>iocb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct iovec *&#160;</td>
          <td class="paramname"><em>iov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>nr_segs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>eCryptfs: Linux filesystem encryption layer</p>
<p>Copyright (C) 1997-2004 Erez Zadok Copyright (C) 2001-2004 Stony Brook University Copyright (C) 2004-2007 International Business Machines Corp. Author(s): Michael A. Halcrow <a href="#" onclick="location.href='mai'+'lto:'+'mha'+'lc'+'row'+'@u'+'s.i'+'bm'+'.co'+'m'; return false;">mhalc<span style="display: none;">.nosp@m.</span>row@<span style="display: none;">.nosp@m.</span>us.ib<span style="display: none;">.nosp@m.</span>m.co<span style="display: none;">.nosp@m.</span>m</a> Michael C. Thompson <a href="#" onclick="location.href='mai'+'lto:'+'mct'+'ho'+'mps'+'@u'+'s.i'+'bm'+'.co'+'m'; return false;">mctho<span style="display: none;">.nosp@m.</span>mps@<span style="display: none;">.nosp@m.</span>us.ib<span style="display: none;">.nosp@m.</span>m.co<span style="display: none;">.nosp@m.</span>m</a></p>
<p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.</p>
<p>See the GPL-COPYING file in the top-level directory.</p>
<p>Copyright (c) 2010-2011 University of Utah and the Flux Group. All rights reserved. ecryptfs_read_update_atime</p>
<p>generic_file_read updates the atime of upper layer inode. But, it doesn't give us a chance to update the atime of the lower layer inode. This function is a wrapper to generic_file_read. It updates the atime of the lower level inode if generic_file_read returns without any errors. This is to be used only for file reads. The function to be used for directory reads is ecryptfs_read. </p>

<p>Definition at line <a class="el" href="file_8c_source.html#l00052">52</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="file_8c_aa70efc296dffe3abafc4fc993c1c831b_cgraph.png" border="0" usemap="#file_8c_aa70efc296dffe3abafc4fc993c1c831b_cgraph" alt=""/></div>
<map name="file_8c_aa70efc296dffe3abafc4fc993c1c831b_cgraph" id="file_8c_aa70efc296dffe3abafc4fc993c1c831b_cgraph">
<area shape="rect" id="node2" href="ecryptfs__kernel_8h.html#ac2ee045a66c2ebc91f8a5dbc00570d95" title="ecryptfs_dentry_to\l_lower" alt="" coords="200,5,331,46"/><area shape="rect" id="node3" href="ecryptfs__kernel_8h.html#ae68237515879c1ac49347f1260ec5322" title="ecryptfs_dentry_to\l_lower_mnt" alt="" coords="200,70,331,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a157ee122e9a256f1b7b93edd406fd088"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ecryptfs_readdir </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dirent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">filldir_t&#160;</td>
          <td class="paramname"><em>filldir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l00119">119</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="file_8c_a157ee122e9a256f1b7b93edd406fd088_cgraph.png" border="0" usemap="#file_8c_a157ee122e9a256f1b7b93edd406fd088_cgraph" alt=""/></div>
<map name="file_8c_a157ee122e9a256f1b7b93edd406fd088_cgraph" id="file_8c_a157ee122e9a256f1b7b93edd406fd088_cgraph">
<area shape="rect" id="node2" href="ecryptfs__kernel_8h.html#a154f061616b301585f744a193d223bc6" title="ecryptfs_file_to_lower" alt="" coords="168,80,317,107"/><area shape="rect" id="node3" href="file_8c.html#aedaa546a81860ed0159a408464edf5f3" title="ecryptfs_filldir" alt="" coords="191,131,294,157"/><area shape="rect" id="node4" href="crypto_8c.html#a003450260d7483c53860bb214791bda6" title="ecryptfs_decode_and\l_decrypt_filename" alt="" coords="365,123,512,165"/><area shape="rect" id="node5" href="ecryptfs__kernel_8h.html#ab0987a55f9bd100b72e69f9dc54d1e39" title="ecryptfs_superblock\l_to_private" alt="" coords="571,25,709,66"/><area shape="rect" id="node6" href="crypto_8c.html#abcbf6726b92e8d2c0523c8a73d29645b" title="ecryptfs_decode_from\l_filename" alt="" coords="565,90,715,131"/><area shape="rect" id="node7" href="ecryptfs__kernel_8h.html#a09ab4784796d57d0e2ab0ff611cc6eee" title="ecryptfs_parse_tag\l_70_packet" alt="" coords="573,155,707,197"/><area shape="rect" id="node25" href="crypto_8c.html#a3ab2be85b67e070ec5d18d375068a9af" title="ecryptfs_copy_filename" alt="" coords="560,221,720,248"/><area shape="rect" id="node8" href="keystore_8c.html#a927e62aec0955db0c1a411dac02486e4" title="ecryptfs_parse_packet\l_length" alt="" coords="775,5,929,46"/><area shape="rect" id="node9" href="crypto_8c.html#a600a433968f0fca6c59d0503e4a13adc" title="ecryptfs_to_hex" alt="" coords="795,71,909,97"/><area shape="rect" id="node10" href="crypto_8c.html#a9ec4f1a07858b147d07a4691fccc9741" title="ecryptfs_cipher_code\l_to_string" alt="" coords="779,122,925,163"/><area shape="rect" id="node11" href="crypto_8c.html#af479d34da23aa4c6382373fdce1f7bbf" title="ecryptfs_get_tfm_and\l_mutex_for_cipher_name" alt="" coords="768,187,936,229"/><area shape="rect" id="node18" href="crypto_8c.html#a192ec172108f38b6c893f631d0ed6cc4" title="virt_to_scatterlist" alt="" coords="791,253,913,280"/><area shape="rect" id="node19" href="keystore_8c.html#ad400c5f10bbfd94c8fadd91a2cc3f908" title="ecryptfs_find_auth\l_tok_for_sig" alt="" coords="787,305,917,346"/><area shape="rect" id="node12" href="crypto_8c.html#a546635bf3080054059b6f8cef79ca4c1" title="ecryptfs_tfm_exists" alt="" coords="1007,164,1145,191"/><area shape="rect" id="node13" href="crypto_8c.html#a41519bf356d367a394b8efb980ee6e51" title="ecryptfs_add_new_key_tfm" alt="" coords="985,215,1167,241"/><area shape="rect" id="node14" href="crypto_8c.html#a89e7a8582efdfa475ae354125c5abb25" title="ecryptfs_process_key\l_cipher" alt="" coords="1245,169,1395,210"/><area shape="rect" id="node16" href="list_8h.html#a0373c4b3c8ce51a451a569ad978b32e1" title="list_add" alt="" coords="1287,235,1353,261"/><area shape="rect" id="node15" href="crypto_8c.html#a5901e51bc8f4d9b71eb0c0692e483b6f" title="ecryptfs_crypto_api\l_algify_cipher_name" alt="" coords="1472,169,1613,210"/><area shape="rect" id="node17" href="list_8h.html#a8a28f150a191624bf6923a48cdace7e3" title="__list_add" alt="" coords="1502,235,1583,261"/><area shape="rect" id="node20" href="keystore_8c.html#a2a70f7a5ff64535e0cb220b179e1982f" title="ecryptfs_find_global\l_auth_tok_for_sig" alt="" coords="1007,283,1145,325"/><area shape="rect" id="node21" href="keystore_8c.html#ab6b148e66717e54b2087a18b51531450" title="ecryptfs_keyring_auth\l_tok_for_sig" alt="" coords="1001,349,1151,390"/><area shape="rect" id="node22" href="keystore_8c.html#a8e375031494d4e18494b23647b117360" title="process_request_key_err" alt="" coords="1236,305,1404,332"/><area shape="rect" id="node23" href="ecryptfs__kernel_8h.html#a17cb5e0da33b0a3da45e14fb4085ad6a" title="ecryptfs_get_key_payload_data" alt="" coords="1217,356,1423,383"/><area shape="rect" id="node24" href="keystore_8c.html#a51fbc3dfa25435572fbb4c39efb8b515" title="ecryptfs_verify_version" alt="" coords="1241,407,1399,433"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9cd17edb24424c96a47d5ad3885f469d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ecryptfs_release </td>
          <td>(</td>
          <td class="paramtype">struct inode *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l00274">274</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6d02dc6e3d912157ffe8214ac62f4fc3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static long ecryptfs_unlocked_ioctl </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l00302">302</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="file_8c_a6d02dc6e3d912157ffe8214ac62f4fc3_cgraph.png" border="0" usemap="#file_8c_a6d02dc6e3d912157ffe8214ac62f4fc3_cgraph" alt=""/></div>
<map name="file_8c_a6d02dc6e3d912157ffe8214ac62f4fc3_cgraph" id="file_8c_a6d02dc6e3d912157ffe8214ac62f4fc3_cgraph">
<area shape="rect" id="node2" href="ecryptfs__kernel_8h.html#a0647924d0167d8fd8b602b761132f52c" title="ecryptfs_file_to_private" alt="" coords="213,5,371,32"/><area shape="rect" id="node3" href="ecryptfs__kernel_8h.html#a154f061616b301585f744a193d223bc6" title="ecryptfs_file_to_lower" alt="" coords="217,56,367,83"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a34348c47da7fd1566538fe612bf221e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct file_operations ecryptfs_dir_fops</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    .readdir = <a class="code" href="file_8c.html#a157ee122e9a256f1b7b93edd406fd088">ecryptfs_readdir</a>,</div>
<div class="line">    .read = generic_read_dir,</div>
<div class="line">    .unlocked_ioctl = <a class="code" href="file_8c.html#a6d02dc6e3d912157ffe8214ac62f4fc3">ecryptfs_unlocked_ioctl</a>,</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">    .open = <a class="code" href="file_8c.html#ab77b53c00f24de64a0fcbb182f043f23">ecryptfs_open</a>,</div>
<div class="line">    .flush = <a class="code" href="file_8c.html#a80cbaa04e8180a9d394677f5acbee8c6">ecryptfs_flush</a>,</div>
<div class="line">    .release = <a class="code" href="file_8c.html#a9cd17edb24424c96a47d5ad3885f469d">ecryptfs_release</a>,</div>
<div class="line">    .fsync = <a class="code" href="file_8c.html#a1c063f2bd106063e9ddef2d69ed19f10">ecryptfs_fsync</a>,</div>
<div class="line">    .fasync = <a class="code" href="file_8c.html#ac4da3fa115adf9a507e5621e43a576de">ecryptfs_fasync</a>,</div>
<div class="line">    .splice_read = generic_file_splice_read,</div>
<div class="line">    .llseek = default_llseek,</div>
<div class="line">}</div>
<div class="ttc" id="file_8c_html_a9cd17edb24424c96a47d5ad3885f469d"><div class="ttname"><a href="file_8c.html#a9cd17edb24424c96a47d5ad3885f469d">ecryptfs_release</a></div><div class="ttdeci">static int ecryptfs_release(struct inode *inode, struct file *file)</div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00274">file.c:274</a></div></div>
<div class="ttc" id="file_8c_html_a1c063f2bd106063e9ddef2d69ed19f10"><div class="ttname"><a href="file_8c.html#a1c063f2bd106063e9ddef2d69ed19f10">ecryptfs_fsync</a></div><div class="ttdeci">static int ecryptfs_fsync(struct file *file, int datasync)</div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00283">file.c:283</a></div></div>
<div class="ttc" id="file_8c_html_ac4da3fa115adf9a507e5621e43a576de"><div class="ttname"><a href="file_8c.html#ac4da3fa115adf9a507e5621e43a576de">ecryptfs_fasync</a></div><div class="ttdeci">static int ecryptfs_fasync(int fd, struct file *file, int flag)</div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00290">file.c:290</a></div></div>
<div class="ttc" id="file_8c_html_a6d02dc6e3d912157ffe8214ac62f4fc3"><div class="ttname"><a href="file_8c.html#a6d02dc6e3d912157ffe8214ac62f4fc3">ecryptfs_unlocked_ioctl</a></div><div class="ttdeci">static long ecryptfs_unlocked_ioctl(struct file *file, unsigned int cmd, unsigned long arg)</div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00302">file.c:302</a></div></div>
<div class="ttc" id="file_8c_html_a80cbaa04e8180a9d394677f5acbee8c6"><div class="ttname"><a href="file_8c.html#a80cbaa04e8180a9d394677f5acbee8c6">ecryptfs_flush</a></div><div class="ttdeci">static int ecryptfs_flush(struct file *file, fl_owner_t td)</div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00261">file.c:261</a></div></div>
<div class="ttc" id="file_8c_html_ab77b53c00f24de64a0fcbb182f043f23"><div class="ttname"><a href="file_8c.html#ab77b53c00f24de64a0fcbb182f043f23">ecryptfs_open</a></div><div class="ttdeci">static int ecryptfs_open(struct inode *inode, struct file *file)</div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00159">file.c:159</a></div></div>
<div class="ttc" id="file_8c_html_a157ee122e9a256f1b7b93edd406fd088"><div class="ttname"><a href="file_8c.html#a157ee122e9a256f1b7b93edd406fd088">ecryptfs_readdir</a></div><div class="ttdeci">static int ecryptfs_readdir(struct file *file, void *dirent, filldir_t filldir)</div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00119">file.c:119</a></div></div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="file_8c_source.html#l00329">329</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa4120b586a7b42ac8aa345a7c99e14ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* ecryptfs_file_info_cache</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="file_8c_source.html#l00148">148</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

</div>
</div>
<a class="anchor" id="adfb79e9386318260375f8526ef23f4a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct file_operations ecryptfs_main_fops</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    .llseek = generic_file_llseek,</div>
<div class="line">    .read = do_sync_read,</div>
<div class="line">    .aio_read = <a class="code" href="file_8c.html#aa70efc296dffe3abafc4fc993c1c831b">ecryptfs_read_update_atime</a>,</div>
<div class="line">    .write = <a class="code" href="file_8c.html#a728728ea4482c58bb7b9cabbc7bfcd3f">ecryptfs_file_write</a>,</div>
<div class="line">    .aio_write = generic_file_aio_write,</div>
<div class="line">    .readdir = <a class="code" href="file_8c.html#a157ee122e9a256f1b7b93edd406fd088">ecryptfs_readdir</a>,</div>
<div class="line">    .unlocked_ioctl = <a class="code" href="file_8c.html#a6d02dc6e3d912157ffe8214ac62f4fc3">ecryptfs_unlocked_ioctl</a>,</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">    .mmap = generic_file_mmap,</div>
<div class="line">    .open = <a class="code" href="file_8c.html#ab77b53c00f24de64a0fcbb182f043f23">ecryptfs_open</a>,</div>
<div class="line">    .flush = <a class="code" href="file_8c.html#a80cbaa04e8180a9d394677f5acbee8c6">ecryptfs_flush</a>,</div>
<div class="line">    .release = <a class="code" href="file_8c.html#a9cd17edb24424c96a47d5ad3885f469d">ecryptfs_release</a>,</div>
<div class="line">    .fsync = <a class="code" href="file_8c.html#a1c063f2bd106063e9ddef2d69ed19f10">ecryptfs_fsync</a>,</div>
<div class="line">    .fasync = <a class="code" href="file_8c.html#ac4da3fa115adf9a507e5621e43a576de">ecryptfs_fasync</a>,</div>
<div class="line">    .splice_read = generic_file_splice_read,</div>
<div class="line">}</div>
<div class="ttc" id="file_8c_html_a9cd17edb24424c96a47d5ad3885f469d"><div class="ttname"><a href="file_8c.html#a9cd17edb24424c96a47d5ad3885f469d">ecryptfs_release</a></div><div class="ttdeci">static int ecryptfs_release(struct inode *inode, struct file *file)</div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00274">file.c:274</a></div></div>
<div class="ttc" id="file_8c_html_a1c063f2bd106063e9ddef2d69ed19f10"><div class="ttname"><a href="file_8c.html#a1c063f2bd106063e9ddef2d69ed19f10">ecryptfs_fsync</a></div><div class="ttdeci">static int ecryptfs_fsync(struct file *file, int datasync)</div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00283">file.c:283</a></div></div>
<div class="ttc" id="file_8c_html_ac4da3fa115adf9a507e5621e43a576de"><div class="ttname"><a href="file_8c.html#ac4da3fa115adf9a507e5621e43a576de">ecryptfs_fasync</a></div><div class="ttdeci">static int ecryptfs_fasync(int fd, struct file *file, int flag)</div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00290">file.c:290</a></div></div>
<div class="ttc" id="file_8c_html_a728728ea4482c58bb7b9cabbc7bfcd3f"><div class="ttname"><a href="file_8c.html#a728728ea4482c58bb7b9cabbc7bfcd3f">ecryptfs_file_write</a></div><div class="ttdeci">static ssize_t ecryptfs_file_write(struct file *f, const char __user *buf, size_t sz, loff_t *poffset)</div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00345">file.c:345</a></div></div>
<div class="ttc" id="file_8c_html_a6d02dc6e3d912157ffe8214ac62f4fc3"><div class="ttname"><a href="file_8c.html#a6d02dc6e3d912157ffe8214ac62f4fc3">ecryptfs_unlocked_ioctl</a></div><div class="ttdeci">static long ecryptfs_unlocked_ioctl(struct file *file, unsigned int cmd, unsigned long arg)</div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00302">file.c:302</a></div></div>
<div class="ttc" id="file_8c_html_a80cbaa04e8180a9d394677f5acbee8c6"><div class="ttname"><a href="file_8c.html#a80cbaa04e8180a9d394677f5acbee8c6">ecryptfs_flush</a></div><div class="ttdeci">static int ecryptfs_flush(struct file *file, fl_owner_t td)</div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00261">file.c:261</a></div></div>
<div class="ttc" id="file_8c_html_aa70efc296dffe3abafc4fc993c1c831b"><div class="ttname"><a href="file_8c.html#aa70efc296dffe3abafc4fc993c1c831b">ecryptfs_read_update_atime</a></div><div class="ttdeci">static ssize_t ecryptfs_read_update_atime(struct kiocb *iocb, const struct iovec *iov, unsigned long nr_segs, loff_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00052">file.c:52</a></div></div>
<div class="ttc" id="file_8c_html_ab77b53c00f24de64a0fcbb182f043f23"><div class="ttname"><a href="file_8c.html#ab77b53c00f24de64a0fcbb182f043f23">ecryptfs_open</a></div><div class="ttdeci">static int ecryptfs_open(struct inode *inode, struct file *file)</div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00159">file.c:159</a></div></div>
<div class="ttc" id="file_8c_html_a157ee122e9a256f1b7b93edd406fd088"><div class="ttname"><a href="file_8c.html#a157ee122e9a256f1b7b93edd406fd088">ecryptfs_readdir</a></div><div class="ttdeci">static int ecryptfs_readdir(struct file *file, void *dirent, filldir_t filldir)</div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00119">file.c:119</a></div></div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="file_8c_source.html#l00392">392</a> of file <a class="el" href="file_8c_source.html">file.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_e21752eb5e4b36c827bff61d317f78b6.html">services</a></li><li class="navelem"><a class="el" href="dir_c51145f6003b9bc92d3c8072bd9cc295.html">gaes</a></li><li class="navelem"><a class="el" href="dir_32c6c2c05be1954f867927059ab19ff9.html">ecryptfs</a></li><li class="navelem"><a class="el" href="file_8c.html">file.c</a></li>
    <li class="footer">Generated on Sun Dec 7 2014 14:58:23 for KGPU by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
