<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>KGPU: services/gaes/ecryptfs/messaging.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">KGPU
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('messaging_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">messaging.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/sched.h&gt;</code><br/>
<code>#include &lt;linux/slab.h&gt;</code><br/>
<code>#include &lt;linux/user_namespace.h&gt;</code><br/>
<code>#include &lt;linux/nsproxy.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="ecryptfs__kernel_8h_source.html">ecryptfs_kernel.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for messaging.c:</div>
<div class="dyncontent">
<div class="center"><img src="messaging_8c__incl.png" border="0" usemap="#services_2gaes_2ecryptfs_2messaging_8c" alt=""/></div>
<map name="services_2gaes_2ecryptfs_2messaging_8c" id="services_2gaes_2ecryptfs_2messaging_8c">
<area shape="rect" id="node6" href="ecryptfs__kernel_8h.html" title="ecryptfs_kernel.h" alt="" coords="616,96,739,123"/></map>
</div>
</div>
<p><a href="messaging_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa15807ed962f9fe53ea163f367d9489c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_8c.html#aa15807ed962f9fe53ea163f367d9489c">ecryptfs_uid_hash</a>(uid)&#160;&#160;&#160;hash_long((unsigned long)uid, <a class="el" href="messaging_8c.html#aaba524827bef632ba9d67f5a7dca6afe">ecryptfs_hash_bits</a>)</td></tr>
<tr class="separator:aa15807ed962f9fe53ea163f367d9489c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2f0b0f6fd0378cd42dd395a0436aa2d5"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_8c.html#a2f0b0f6fd0378cd42dd395a0436aa2d5">LIST_HEAD</a> (ecryptfs_msg_ctx_free_list)</td></tr>
<tr class="separator:a2f0b0f6fd0378cd42dd395a0436aa2d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac66ec1bc627a8c9ed0657b7c450cf85b"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_8c.html#ac66ec1bc627a8c9ed0657b7c450cf85b">LIST_HEAD</a> (ecryptfs_msg_ctx_alloc_list)</td></tr>
<tr class="separator:ac66ec1bc627a8c9ed0657b7c450cf85b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cf131d292b1e79c317132d722ad3bb3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_8c.html#a3cf131d292b1e79c317132d722ad3bb3">ecryptfs_acquire_free_msg_ctx</a> (struct <a class="el" href="structecryptfs__msg__ctx.html">ecryptfs_msg_ctx</a> **msg_ctx)</td></tr>
<tr class="separator:a3cf131d292b1e79c317132d722ad3bb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e5308be4f4821f928b20d7469c21267"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_8c.html#a4e5308be4f4821f928b20d7469c21267">ecryptfs_msg_ctx_free_to_alloc</a> (struct <a class="el" href="structecryptfs__msg__ctx.html">ecryptfs_msg_ctx</a> *msg_ctx)</td></tr>
<tr class="separator:a4e5308be4f4821f928b20d7469c21267"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa5f0c6e4ccfb9753a323ff2c5ae993c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_8c.html#afa5f0c6e4ccfb9753a323ff2c5ae993c">ecryptfs_msg_ctx_alloc_to_free</a> (struct <a class="el" href="structecryptfs__msg__ctx.html">ecryptfs_msg_ctx</a> *msg_ctx)</td></tr>
<tr class="separator:afa5f0c6e4ccfb9753a323ff2c5ae993c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a785e6d04b5b757664a8c0d7e48bbf5ee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_8c.html#a785e6d04b5b757664a8c0d7e48bbf5ee">ecryptfs_find_daemon_by_euid</a> (struct <a class="el" href="structecryptfs__daemon.html">ecryptfs_daemon</a> **daemon, uid_t euid, struct user_namespace *user_ns)</td></tr>
<tr class="separator:a785e6d04b5b757664a8c0d7e48bbf5ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f4666d36f8fc6ff4ceefb9f9ac16879"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_8c.html#a6f4666d36f8fc6ff4ceefb9f9ac16879">ecryptfs_spawn_daemon</a> (struct <a class="el" href="structecryptfs__daemon.html">ecryptfs_daemon</a> **daemon, uid_t euid, struct user_namespace *user_ns, struct pid *pid)</td></tr>
<tr class="separator:a6f4666d36f8fc6ff4ceefb9f9ac16879"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f2b66714d779ad0e2c9347f7c412da4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_8c.html#a2f2b66714d779ad0e2c9347f7c412da4">ecryptfs_exorcise_daemon</a> (struct <a class="el" href="structecryptfs__daemon.html">ecryptfs_daemon</a> *daemon)</td></tr>
<tr class="separator:a2f2b66714d779ad0e2c9347f7c412da4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5428ad7552af9e79835622bdff57c5db"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_8c.html#a5428ad7552af9e79835622bdff57c5db">ecryptfs_process_quit</a> (uid_t euid, struct user_namespace *user_ns, struct pid *pid)</td></tr>
<tr class="separator:a5428ad7552af9e79835622bdff57c5db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac979376807c7c6ac8330de8862807864"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_8c.html#ac979376807c7c6ac8330de8862807864">ecryptfs_process_response</a> (struct <a class="el" href="structecryptfs__message.html">ecryptfs_message</a> *msg, uid_t euid, struct user_namespace *user_ns, struct pid *pid, <a class="el" href="gaesu_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> seq)</td></tr>
<tr class="separator:ac979376807c7c6ac8330de8862807864"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10730ea01271b89e1dbd74f64cff553f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_8c.html#a10730ea01271b89e1dbd74f64cff553f">ecryptfs_send_message_locked</a> (char *<a class="el" href="raid6test_8c.html#aa15520322cfd6ae88e1036d4706d4de3">data</a>, int data_len, <a class="el" href="helper_8c.html#aed742c436da53c1080638ce6ef7d13de">u8</a> msg_type, struct <a class="el" href="structecryptfs__msg__ctx.html">ecryptfs_msg_ctx</a> **msg_ctx)</td></tr>
<tr class="separator:a10730ea01271b89e1dbd74f64cff553f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4991d4be187f4947e178b45b1a759d68"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_8c.html#a4991d4be187f4947e178b45b1a759d68">ecryptfs_send_message</a> (char *<a class="el" href="raid6test_8c.html#aa15520322cfd6ae88e1036d4706d4de3">data</a>, int data_len, struct <a class="el" href="structecryptfs__msg__ctx.html">ecryptfs_msg_ctx</a> **msg_ctx)</td></tr>
<tr class="separator:a4991d4be187f4947e178b45b1a759d68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92e74fb407527dec54a9faba414ea92a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_8c.html#a92e74fb407527dec54a9faba414ea92a">ecryptfs_wait_for_response</a> (struct <a class="el" href="structecryptfs__msg__ctx.html">ecryptfs_msg_ctx</a> *msg_ctx, struct <a class="el" href="structecryptfs__message.html">ecryptfs_message</a> **msg)</td></tr>
<tr class="separator:a92e74fb407527dec54a9faba414ea92a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6babe1511f5e89350b70a7dd6adcbf90"><td class="memItemLeft" align="right" valign="top">int __init&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_8c.html#a6babe1511f5e89350b70a7dd6adcbf90">ecryptfs_init_messaging</a> (void)</td></tr>
<tr class="separator:a6babe1511f5e89350b70a7dd6adcbf90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83a551f817e776aaea301bb9191199f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_8c.html#a83a551f817e776aaea301bb9191199f9">ecryptfs_release_messaging</a> (void)</td></tr>
<tr class="separator:a83a551f817e776aaea301bb9191199f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a8453d6fa70b47b4dbab11dac913592be"><td class="memItemLeft" align="right" valign="top">static struct mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_8c.html#a8453d6fa70b47b4dbab11dac913592be">ecryptfs_msg_ctx_lists_mux</a></td></tr>
<tr class="separator:a8453d6fa70b47b4dbab11dac913592be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe615a7305d325bcfda64f3b49a85527"><td class="memItemLeft" align="right" valign="top">static struct hlist_head *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_8c.html#afe615a7305d325bcfda64f3b49a85527">ecryptfs_daemon_hash</a></td></tr>
<tr class="separator:afe615a7305d325bcfda64f3b49a85527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bc1cbb0bca5f9bbc411066a0aa71493"><td class="memItemLeft" align="right" valign="top">struct mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_8c.html#a9bc1cbb0bca5f9bbc411066a0aa71493">ecryptfs_daemon_hash_mux</a></td></tr>
<tr class="separator:a9bc1cbb0bca5f9bbc411066a0aa71493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaba524827bef632ba9d67f5a7dca6afe"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_8c.html#aaba524827bef632ba9d67f5a7dca6afe">ecryptfs_hash_bits</a></td></tr>
<tr class="separator:aaba524827bef632ba9d67f5a7dca6afe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad380024c2f5a4522d7393ab506bb6e8c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="gaesu_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_8c.html#ad380024c2f5a4522d7393ab506bb6e8c">ecryptfs_msg_counter</a></td></tr>
<tr class="separator:ad380024c2f5a4522d7393ab506bb6e8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a645ad692fdf658b5908d7e6870ef49f7"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structecryptfs__msg__ctx.html">ecryptfs_msg_ctx</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="messaging_8c.html#a645ad692fdf658b5908d7e6870ef49f7">ecryptfs_msg_ctx_arr</a></td></tr>
<tr class="separator:a645ad692fdf658b5908d7e6870ef49f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="aa15807ed962f9fe53ea163f367d9489c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ecryptfs_uid_hash</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">uid</td><td>)</td>
          <td>&#160;&#160;&#160;hash_long((unsigned long)uid, <a class="el" href="messaging_8c.html#aaba524827bef632ba9d67f5a7dca6afe">ecryptfs_hash_bits</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="messaging_8c_source.html#l00041">41</a> of file <a class="el" href="messaging_8c_source.html">messaging.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a3cf131d292b1e79c317132d722ad3bb3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ecryptfs_acquire_free_msg_ctx </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structecryptfs__msg__ctx.html">ecryptfs_msg_ctx</a> **&#160;</td>
          <td class="paramname"><em>msg_ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ecryptfs_acquire_free_msg_ctx : The context that was acquired from the free list</p>
<p>Acquires a context element from the free list and locks the mutex on the context. Sets the msg_ctx task to current. Returns zero on success; non-zero on error or upon failure to acquire a free context element. Must be called with ecryptfs_msg_ctx_lists_mux held. </p>

<p>Definition at line <a class="el" href="messaging_8c_source.html#l00057">57</a> of file <a class="el" href="messaging_8c_source.html">messaging.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="messaging_8c_a3cf131d292b1e79c317132d722ad3bb3_cgraph.png" border="0" usemap="#messaging_8c_a3cf131d292b1e79c317132d722ad3bb3_cgraph" alt=""/></div>
<map name="messaging_8c_a3cf131d292b1e79c317132d722ad3bb3_cgraph" id="messaging_8c_a3cf131d292b1e79c317132d722ad3bb3_cgraph">
<area shape="rect" id="node2" href="list_8h.html#a6601e54d8f27ab290ee6819f7e2127b7" title="list_empty" alt="" coords="200,12,283,39"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="messaging_8c_a3cf131d292b1e79c317132d722ad3bb3_icgraph.png" border="0" usemap="#messaging_8c_a3cf131d292b1e79c317132d722ad3bb3_icgraph" alt=""/></div>
<map name="messaging_8c_a3cf131d292b1e79c317132d722ad3bb3_icgraph" id="messaging_8c_a3cf131d292b1e79c317132d722ad3bb3_icgraph">
<area shape="rect" id="node2" href="messaging_8c.html#a10730ea01271b89e1dbd74f64cff553f" title="ecryptfs_send_message\l_locked" alt="" coords="201,74,365,115"/><area shape="rect" id="node3" href="messaging_8c.html#a4991d4be187f4947e178b45b1a759d68" title="ecryptfs_send_message" alt="" coords="414,81,578,108"/><area shape="rect" id="node4" href="keystore_8c.html#a5cd91ea24b792d9718c66c4f930ef730" title="decrypt_pki_encrypted\l_session_key" alt="" coords="635,45,789,86"/><area shape="rect" id="node10" href="keystore_8c.html#a2bfafae46d434c6ccc87ec04ee2e9db4" title="pki_encrypt_session_key" alt="" coords="627,111,797,137"/><area shape="rect" id="node5" href="keystore_8c.html#a44ad4f9a58b735c6d9891a06df838671" title="ecryptfs_parse_packet_set" alt="" coords="845,52,1024,79"/><area shape="rect" id="node6" href="crypto_8c.html#a1971b0423a0e1cbe741f78712d319b20" title="ecryptfs_read_headers_virt" alt="" coords="1072,52,1251,79"/><area shape="rect" id="node7" href="ecryptfs__kernel_8h.html#a0f476d4db45796bb804042157fbd93fa" title="ecryptfs_read_metadata" alt="" coords="1309,52,1472,79"/><area shape="rect" id="node8" href="file_8c.html#ab77b53c00f24de64a0fcbb182f043f23" title="ecryptfs_open" alt="" coords="1561,5,1665,32"/><area shape="rect" id="node9" href="inode_8c.html#a34946e5592d6ec37a0d9cedef341291d" title="ecryptfs_setattr" alt="" coords="1557,56,1670,83"/><area shape="rect" id="node11" href="keystore_8c.html#ac6bc314de94c6d266926cc7dc0219c5b" title="write_tag_1_packet" alt="" coords="867,111,1002,137"/><area shape="rect" id="node12" href="keystore_8c.html#aea269faf109dfdfbe811ff5af549c8dc" title="ecryptfs_generate_key\l_packet_set" alt="" coords="1084,103,1239,145"/><area shape="rect" id="node13" href="crypto_8c.html#a726219be3d26c0f5d0cd3764aaf1dc10" title="ecryptfs_write_headers_virt" alt="" coords="1299,111,1482,137"/><area shape="rect" id="node14" href="ecryptfs__kernel_8h.html#aebe428f37c6e93d1e18cdc4a7b40e1f6" title="ecryptfs_write_metadata" alt="" coords="1531,111,1696,137"/><area shape="rect" id="node15" href="inode_8c.html#aa3e69b4fc3ab260970b7852e00b63ac1" title="ecryptfs_initialize_file" alt="" coords="1744,111,1891,137"/><area shape="rect" id="node16" href="inode_8c.html#a2b00e2205459387d2f180e8f055fbaa6" title="ecryptfs_create" alt="" coords="1939,111,2051,137"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2f2b66714d779ad0e2c9347f7c412da4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ecryptfs_exorcise_daemon </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structecryptfs__daemon.html">ecryptfs_daemon</a> *&#160;</td>
          <td class="paramname"><em>daemon</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ecryptfs_exorcise_daemon - Destroy the daemon struct</p>
<p>Must be called ceremoniously while in possession of ecryptfs_daemon_hash_mux and the daemon's own mux. </p>

<p>Definition at line <a class="el" href="messaging_8c_source.html#l00188">188</a> of file <a class="el" href="messaging_8c_source.html">messaging.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="messaging_8c_a2f2b66714d779ad0e2c9347f7c412da4_cgraph.png" border="0" usemap="#messaging_8c_a2f2b66714d779ad0e2c9347f7c412da4_cgraph" alt=""/></div>
<map name="messaging_8c_a2f2b66714d779ad0e2c9347f7c412da4_cgraph" id="messaging_8c_a2f2b66714d779ad0e2c9347f7c412da4_cgraph">
<area shape="rect" id="node2" href="list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title="list_del" alt="" coords="281,5,343,32"/><area shape="rect" id="node4" href="messaging_8c.html#afa5f0c6e4ccfb9753a323ff2c5ae993c" title="ecryptfs_msg_ctx_alloc\l_to_free" alt="" coords="232,57,392,98"/><area shape="rect" id="node3" href="list_8h.html#a24b474717d65a296695e8b79b4adefda" title="__list_del" alt="" coords="440,5,517,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="messaging_8c_a2f2b66714d779ad0e2c9347f7c412da4_icgraph.png" border="0" usemap="#messaging_8c_a2f2b66714d779ad0e2c9347f7c412da4_icgraph" alt=""/></div>
<map name="messaging_8c_a2f2b66714d779ad0e2c9347f7c412da4_icgraph" id="messaging_8c_a2f2b66714d779ad0e2c9347f7c412da4_icgraph">
<area shape="rect" id="node2" href="messaging_8c.html#a5428ad7552af9e79835622bdff57c5db" title="ecryptfs_process_quit" alt="" coords="251,5,402,32"/><area shape="rect" id="node3" href="messaging_8c.html#a83a551f817e776aaea301bb9191199f9" title="ecryptfs_release_messaging" alt="" coords="233,56,421,83"/><area shape="rect" id="node7" href="miscdev_8c.html#aee0657f6ed112e3782c08c30c07af319" title="ecryptfs_miscdev_release" alt="" coords="239,107,414,133"/><area shape="rect" id="node4" href="services_2gaes_2ecryptfs_2main_8c.html#abe6d03208b49def9b19a36c8a79373b9" title="ecryptfs_init" alt="" coords="680,56,773,83"/><area shape="rect" id="node5" href="services_2gaes_2ecryptfs_2main_8c.html#aa32ace6b7c319adb175778c357041568" title="ecryptfs_exit" alt="" coords="502,56,599,83"/><area shape="rect" id="node6" href="messaging_8c.html#a6babe1511f5e89350b70a7dd6adcbf90" title="ecryptfs_init_messaging" alt="" coords="469,107,632,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a785e6d04b5b757664a8c0d7e48bbf5ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ecryptfs_find_daemon_by_euid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structecryptfs__daemon.html">ecryptfs_daemon</a> **&#160;</td>
          <td class="paramname"><em>daemon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uid_t&#160;</td>
          <td class="paramname"><em>euid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct user_namespace *&#160;</td>
          <td class="paramname"><em>user_ns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ecryptfs_find_daemon_by_euid : The effective user id which maps to the desired daemon id : The namespace in which  applies : If return value is zero, points to the desired daemon pointer</p>
<p>Must be called with ecryptfs_daemon_hash_mux held.</p>
<p>Search the hash list for the given user id.</p>
<p>Returns zero if the user id exists in the list; non-zero otherwise. </p>

<p>Definition at line <a class="el" href="messaging_8c_source.html#l00124">124</a> of file <a class="el" href="messaging_8c_source.html">messaging.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="messaging_8c_a785e6d04b5b757664a8c0d7e48bbf5ee_icgraph.png" border="0" usemap="#messaging_8c_a785e6d04b5b757664a8c0d7e48bbf5ee_icgraph" alt=""/></div>
<map name="messaging_8c_a785e6d04b5b757664a8c0d7e48bbf5ee_icgraph" id="messaging_8c_a785e6d04b5b757664a8c0d7e48bbf5ee_icgraph">
<area shape="rect" id="node2" href="messaging_8c.html#a5428ad7552af9e79835622bdff57c5db" title="ecryptfs_process_quit" alt="" coords="222,5,373,32"/><area shape="rect" id="node3" href="messaging_8c.html#ac979376807c7c6ac8330de8862807864" title="ecryptfs_process_response" alt="" coords="206,56,389,83"/><area shape="rect" id="node6" href="messaging_8c.html#a10730ea01271b89e1dbd74f64cff553f" title="ecryptfs_send_message\l_locked" alt="" coords="215,107,379,149"/><area shape="rect" id="node21" href="miscdev_8c.html#ad783009bba4362a6a55ed5fe155028c6" title="ecryptfs_miscdev_poll" alt="" coords="221,173,373,200"/><area shape="rect" id="node22" href="miscdev_8c.html#a55cc5738343b8e8b105f723e99fcb13b" title="ecryptfs_miscdev_open" alt="" coords="217,224,377,251"/><area shape="rect" id="node23" href="miscdev_8c.html#aee0657f6ed112e3782c08c30c07af319" title="ecryptfs_miscdev_release" alt="" coords="210,275,385,301"/><area shape="rect" id="node24" href="miscdev_8c.html#aaacfe8b20f05523915edd49d2487349e" title="ecryptfs_miscdev_read" alt="" coords="219,325,376,352"/><area shape="rect" id="node4" href="miscdev_8c.html#a63a057cac3e88e29d384a51d025515b2" title="ecryptfs_miscdev_response" alt="" coords="438,56,623,83"/><area shape="rect" id="node5" href="miscdev_8c.html#a2baa3c3495d888b54c83d2b1c2d91b93" title="ecryptfs_miscdev_write" alt="" coords="677,56,837,83"/><area shape="rect" id="node7" href="messaging_8c.html#a4991d4be187f4947e178b45b1a759d68" title="ecryptfs_send_message" alt="" coords="449,115,613,141"/><area shape="rect" id="node8" href="keystore_8c.html#a5cd91ea24b792d9718c66c4f930ef730" title="decrypt_pki_encrypted\l_session_key" alt="" coords="681,107,834,149"/><area shape="rect" id="node14" href="keystore_8c.html#a2bfafae46d434c6ccc87ec04ee2e9db4" title="pki_encrypt_session_key" alt="" coords="673,173,842,200"/><area shape="rect" id="node9" href="keystore_8c.html#a44ad4f9a58b735c6d9891a06df838671" title="ecryptfs_parse_packet_set" alt="" coords="891,115,1069,141"/><area shape="rect" id="node10" href="crypto_8c.html#a1971b0423a0e1cbe741f78712d319b20" title="ecryptfs_read_headers_virt" alt="" coords="1117,115,1296,141"/><area shape="rect" id="node11" href="ecryptfs__kernel_8h.html#a0f476d4db45796bb804042157fbd93fa" title="ecryptfs_read_metadata" alt="" coords="1355,115,1517,141"/><area shape="rect" id="node12" href="file_8c.html#ab77b53c00f24de64a0fcbb182f043f23" title="ecryptfs_open" alt="" coords="1607,68,1711,95"/><area shape="rect" id="node13" href="inode_8c.html#a34946e5592d6ec37a0d9cedef341291d" title="ecryptfs_setattr" alt="" coords="1602,119,1715,145"/><area shape="rect" id="node15" href="keystore_8c.html#ac6bc314de94c6d266926cc7dc0219c5b" title="write_tag_1_packet" alt="" coords="913,173,1047,200"/><area shape="rect" id="node16" href="keystore_8c.html#aea269faf109dfdfbe811ff5af549c8dc" title="ecryptfs_generate_key\l_packet_set" alt="" coords="1129,166,1284,207"/><area shape="rect" id="node17" href="crypto_8c.html#a726219be3d26c0f5d0cd3764aaf1dc10" title="ecryptfs_write_headers_virt" alt="" coords="1345,173,1527,200"/><area shape="rect" id="node18" href="ecryptfs__kernel_8h.html#aebe428f37c6e93d1e18cdc4a7b40e1f6" title="ecryptfs_write_metadata" alt="" coords="1576,173,1741,200"/><area shape="rect" id="node19" href="inode_8c.html#aa3e69b4fc3ab260970b7852e00b63ac1" title="ecryptfs_initialize_file" alt="" coords="1789,173,1936,200"/><area shape="rect" id="node20" href="inode_8c.html#a2b00e2205459387d2f180e8f055fbaa6" title="ecryptfs_create" alt="" coords="1984,173,2096,200"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6babe1511f5e89350b70a7dd6adcbf90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __init ecryptfs_init_messaging </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="messaging_8c_source.html#l00482">482</a> of file <a class="el" href="messaging_8c_source.html">messaging.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="messaging_8c_a6babe1511f5e89350b70a7dd6adcbf90_cgraph.png" border="0" usemap="#messaging_8c_a6babe1511f5e89350b70a7dd6adcbf90_cgraph" alt=""/></div>
<map name="messaging_8c_a6babe1511f5e89350b70a7dd6adcbf90_cgraph" id="messaging_8c_a6babe1511f5e89350b70a7dd6adcbf90_cgraph">
<area shape="rect" id="node2" href="list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4" title="INIT_LIST_HEAD" alt="" coords="247,5,375,32"/><area shape="rect" id="node3" href="list_8h.html#a588bec046f1e9797b33a5c5ab250f447" title="list_add_tail" alt="" coords="265,56,356,83"/><area shape="rect" id="node5" href="ecryptfs__kernel_8h.html#ac91460db43c83843f216a140113f65b2" title="ecryptfs_init_ecryptfs\l_miscdev" alt="" coords="237,107,384,149"/><area shape="rect" id="node6" href="messaging_8c.html#a83a551f817e776aaea301bb9191199f9" title="ecryptfs_release_messaging" alt="" coords="217,173,405,200"/><area shape="rect" id="node4" href="list_8h.html#a8a28f150a191624bf6923a48cdace7e3" title="__list_add" alt="" coords="502,56,583,83"/><area shape="rect" id="node7" href="messaging_8c.html#a2f2b66714d779ad0e2c9347f7c412da4" title="ecryptfs_exorcise_daemon" alt="" coords="453,144,632,171"/><area shape="rect" id="node11" href="ecryptfs__kernel_8h.html#aa5d62a4fd16cf95e9322d432653b7c59" title="ecryptfs_destroy_ecryptfs\l_miscdev" alt="" coords="456,195,629,237"/><area shape="rect" id="node8" href="list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title="list_del" alt="" coords="729,115,791,141"/><area shape="rect" id="node10" href="messaging_8c.html#afa5f0c6e4ccfb9753a323ff2c5ae993c" title="ecryptfs_msg_ctx_alloc\l_to_free" alt="" coords="680,166,840,207"/><area shape="rect" id="node9" href="list_8h.html#a24b474717d65a296695e8b79b4adefda" title="__list_del" alt="" coords="888,115,965,141"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="messaging_8c_a6babe1511f5e89350b70a7dd6adcbf90_icgraph.png" border="0" usemap="#messaging_8c_a6babe1511f5e89350b70a7dd6adcbf90_icgraph" alt=""/></div>
<map name="messaging_8c_a6babe1511f5e89350b70a7dd6adcbf90_icgraph" id="messaging_8c_a6babe1511f5e89350b70a7dd6adcbf90_icgraph">
<area shape="rect" id="node2" href="services_2gaes_2ecryptfs_2main_8c.html#abe6d03208b49def9b19a36c8a79373b9" title="ecryptfs_init" alt="" coords="216,5,309,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afa5f0c6e4ccfb9753a323ff2c5ae993c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ecryptfs_msg_ctx_alloc_to_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structecryptfs__msg__ctx.html">ecryptfs_msg_ctx</a> *&#160;</td>
          <td class="paramname"><em>msg_ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ecryptfs_msg_ctx_alloc_to_free : The context to move from the alloc list to the free list</p>
<p>Must be called with ecryptfs_msg_ctx_lists_mux held. </p>

<p>Definition at line <a class="el" href="messaging_8c_source.html#l00103">103</a> of file <a class="el" href="messaging_8c_source.html">messaging.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="messaging_8c_afa5f0c6e4ccfb9753a323ff2c5ae993c_icgraph.png" border="0" usemap="#messaging_8c_afa5f0c6e4ccfb9753a323ff2c5ae993c_icgraph" alt=""/></div>
<map name="messaging_8c_afa5f0c6e4ccfb9753a323ff2c5ae993c_icgraph" id="messaging_8c_afa5f0c6e4ccfb9753a323ff2c5ae993c_icgraph">
<area shape="rect" id="node2" href="messaging_8c.html#a2f2b66714d779ad0e2c9347f7c412da4" title="ecryptfs_exorcise_daemon" alt="" coords="216,81,395,108"/><area shape="rect" id="node9" href="messaging_8c.html#a92e74fb407527dec54a9faba414ea92a" title="ecryptfs_wait_for_response" alt="" coords="214,165,397,192"/><area shape="rect" id="node23" href="miscdev_8c.html#aaacfe8b20f05523915edd49d2487349e" title="ecryptfs_miscdev_read" alt="" coords="227,216,384,243"/><area shape="rect" id="node3" href="messaging_8c.html#a5428ad7552af9e79835622bdff57c5db" title="ecryptfs_process_quit" alt="" coords="465,5,615,32"/><area shape="rect" id="node4" href="messaging_8c.html#a83a551f817e776aaea301bb9191199f9" title="ecryptfs_release_messaging" alt="" coords="446,56,634,83"/><area shape="rect" id="node8" href="miscdev_8c.html#aee0657f6ed112e3782c08c30c07af319" title="ecryptfs_miscdev_release" alt="" coords="453,107,627,133"/><area shape="rect" id="node5" href="services_2gaes_2ecryptfs_2main_8c.html#abe6d03208b49def9b19a36c8a79373b9" title="ecryptfs_init" alt="" coords="952,56,1045,83"/><area shape="rect" id="node6" href="services_2gaes_2ecryptfs_2main_8c.html#aa32ace6b7c319adb175778c357041568" title="ecryptfs_exit" alt="" coords="723,56,821,83"/><area shape="rect" id="node7" href="messaging_8c.html#a6babe1511f5e89350b70a7dd6adcbf90" title="ecryptfs_init_messaging" alt="" coords="691,107,853,133"/><area shape="rect" id="node10" href="keystore_8c.html#a5cd91ea24b792d9718c66c4f930ef730" title="decrypt_pki_encrypted\l_session_key" alt="" coords="463,158,617,199"/><area shape="rect" id="node16" href="keystore_8c.html#a2bfafae46d434c6ccc87ec04ee2e9db4" title="pki_encrypt_session_key" alt="" coords="455,224,625,251"/><area shape="rect" id="node11" href="keystore_8c.html#a44ad4f9a58b735c6d9891a06df838671" title="ecryptfs_parse_packet_set" alt="" coords="683,165,861,192"/><area shape="rect" id="node12" href="crypto_8c.html#a1971b0423a0e1cbe741f78712d319b20" title="ecryptfs_read_headers_virt" alt="" coords="909,165,1088,192"/><area shape="rect" id="node13" href="ecryptfs__kernel_8h.html#a0f476d4db45796bb804042157fbd93fa" title="ecryptfs_read_metadata" alt="" coords="1147,165,1309,192"/><area shape="rect" id="node14" href="file_8c.html#ab77b53c00f24de64a0fcbb182f043f23" title="ecryptfs_open" alt="" coords="1399,119,1503,145"/><area shape="rect" id="node15" href="inode_8c.html#a34946e5592d6ec37a0d9cedef341291d" title="ecryptfs_setattr" alt="" coords="1394,169,1507,196"/><area shape="rect" id="node17" href="keystore_8c.html#ac6bc314de94c6d266926cc7dc0219c5b" title="write_tag_1_packet" alt="" coords="705,224,839,251"/><area shape="rect" id="node18" href="keystore_8c.html#aea269faf109dfdfbe811ff5af549c8dc" title="ecryptfs_generate_key\l_packet_set" alt="" coords="921,217,1076,258"/><area shape="rect" id="node19" href="crypto_8c.html#a726219be3d26c0f5d0cd3764aaf1dc10" title="ecryptfs_write_headers_virt" alt="" coords="1137,224,1319,251"/><area shape="rect" id="node20" href="ecryptfs__kernel_8h.html#aebe428f37c6e93d1e18cdc4a7b40e1f6" title="ecryptfs_write_metadata" alt="" coords="1368,224,1533,251"/><area shape="rect" id="node21" href="inode_8c.html#aa3e69b4fc3ab260970b7852e00b63ac1" title="ecryptfs_initialize_file" alt="" coords="1581,224,1728,251"/><area shape="rect" id="node22" href="inode_8c.html#a2b00e2205459387d2f180e8f055fbaa6" title="ecryptfs_create" alt="" coords="1776,224,1888,251"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4e5308be4f4821f928b20d7469c21267"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ecryptfs_msg_ctx_free_to_alloc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structecryptfs__msg__ctx.html">ecryptfs_msg_ctx</a> *&#160;</td>
          <td class="paramname"><em>msg_ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ecryptfs_msg_ctx_free_to_alloc : The context to move from the free list to the alloc list</p>
<p>Must be called with ecryptfs_msg_ctx_lists_mux held. </p>

<p>Definition at line <a class="el" href="messaging_8c_source.html#l00090">90</a> of file <a class="el" href="messaging_8c_source.html">messaging.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="messaging_8c_a4e5308be4f4821f928b20d7469c21267_icgraph.png" border="0" usemap="#messaging_8c_a4e5308be4f4821f928b20d7469c21267_icgraph" alt=""/></div>
<map name="messaging_8c_a4e5308be4f4821f928b20d7469c21267_icgraph" id="messaging_8c_a4e5308be4f4821f928b20d7469c21267_icgraph">
<area shape="rect" id="node2" href="messaging_8c.html#a10730ea01271b89e1dbd74f64cff553f" title="ecryptfs_send_message\l_locked" alt="" coords="209,74,373,115"/><area shape="rect" id="node3" href="messaging_8c.html#a4991d4be187f4947e178b45b1a759d68" title="ecryptfs_send_message" alt="" coords="422,81,586,108"/><area shape="rect" id="node4" href="keystore_8c.html#a5cd91ea24b792d9718c66c4f930ef730" title="decrypt_pki_encrypted\l_session_key" alt="" coords="643,45,797,86"/><area shape="rect" id="node10" href="keystore_8c.html#a2bfafae46d434c6ccc87ec04ee2e9db4" title="pki_encrypt_session_key" alt="" coords="635,111,805,137"/><area shape="rect" id="node5" href="keystore_8c.html#a44ad4f9a58b735c6d9891a06df838671" title="ecryptfs_parse_packet_set" alt="" coords="853,52,1032,79"/><area shape="rect" id="node6" href="crypto_8c.html#a1971b0423a0e1cbe741f78712d319b20" title="ecryptfs_read_headers_virt" alt="" coords="1080,52,1259,79"/><area shape="rect" id="node7" href="ecryptfs__kernel_8h.html#a0f476d4db45796bb804042157fbd93fa" title="ecryptfs_read_metadata" alt="" coords="1317,52,1480,79"/><area shape="rect" id="node8" href="file_8c.html#ab77b53c00f24de64a0fcbb182f043f23" title="ecryptfs_open" alt="" coords="1569,5,1673,32"/><area shape="rect" id="node9" href="inode_8c.html#a34946e5592d6ec37a0d9cedef341291d" title="ecryptfs_setattr" alt="" coords="1565,56,1678,83"/><area shape="rect" id="node11" href="keystore_8c.html#ac6bc314de94c6d266926cc7dc0219c5b" title="write_tag_1_packet" alt="" coords="875,111,1010,137"/><area shape="rect" id="node12" href="keystore_8c.html#aea269faf109dfdfbe811ff5af549c8dc" title="ecryptfs_generate_key\l_packet_set" alt="" coords="1092,103,1247,145"/><area shape="rect" id="node13" href="crypto_8c.html#a726219be3d26c0f5d0cd3764aaf1dc10" title="ecryptfs_write_headers_virt" alt="" coords="1307,111,1490,137"/><area shape="rect" id="node14" href="ecryptfs__kernel_8h.html#aebe428f37c6e93d1e18cdc4a7b40e1f6" title="ecryptfs_write_metadata" alt="" coords="1539,111,1704,137"/><area shape="rect" id="node15" href="inode_8c.html#aa3e69b4fc3ab260970b7852e00b63ac1" title="ecryptfs_initialize_file" alt="" coords="1752,111,1899,137"/><area shape="rect" id="node16" href="inode_8c.html#a2b00e2205459387d2f180e8f055fbaa6" title="ecryptfs_create" alt="" coords="1947,111,2059,137"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5428ad7552af9e79835622bdff57c5db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ecryptfs_process_quit </td>
          <td>(</td>
          <td class="paramtype">uid_t&#160;</td>
          <td class="paramname"><em>euid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct user_namespace *&#160;</td>
          <td class="paramname"><em>user_ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct pid *&#160;</td>
          <td class="paramname"><em>pid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ecryptfs_process_quit : The user ID owner of the message : The namespace in which  applies : The process ID for the userspace program that sent the message</p>
<p>Deletes the corresponding daemon for the given euid and pid, if it is the registered that is requesting the deletion. Returns zero after deleting the desired daemon; non-zero otherwise. </p>

<p>Definition at line <a class="el" href="messaging_8c_source.html#l00235">235</a> of file <a class="el" href="messaging_8c_source.html">messaging.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="messaging_8c_a5428ad7552af9e79835622bdff57c5db_cgraph.png" border="0" usemap="#messaging_8c_a5428ad7552af9e79835622bdff57c5db_cgraph" alt=""/></div>
<map name="messaging_8c_a5428ad7552af9e79835622bdff57c5db_cgraph" id="messaging_8c_a5428ad7552af9e79835622bdff57c5db_cgraph">
<area shape="rect" id="node2" href="messaging_8c.html#a785e6d04b5b757664a8c0d7e48bbf5ee" title="ecryptfs_find_daemon\l_by_euid" alt="" coords="219,5,370,46"/><area shape="rect" id="node3" href="messaging_8c.html#a2f2b66714d779ad0e2c9347f7c412da4" title="ecryptfs_exorcise_daemon" alt="" coords="205,71,384,97"/><area shape="rect" id="node4" href="list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title="list_del" alt="" coords="481,41,543,68"/><area shape="rect" id="node6" href="messaging_8c.html#afa5f0c6e4ccfb9753a323ff2c5ae993c" title="ecryptfs_msg_ctx_alloc\l_to_free" alt="" coords="432,93,592,134"/><area shape="rect" id="node5" href="list_8h.html#a24b474717d65a296695e8b79b4adefda" title="__list_del" alt="" coords="640,41,717,68"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac979376807c7c6ac8330de8862807864"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ecryptfs_process_response </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structecryptfs__message.html">ecryptfs_message</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uid_t&#160;</td>
          <td class="paramname"><em>euid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct user_namespace *&#160;</td>
          <td class="paramname"><em>user_ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct pid *&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gaesu_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a>&#160;</td>
          <td class="paramname"><em>seq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ecryptfs_process_reponse : The ecryptfs message received; the caller should sanity check msg-&gt;data_len and free the memory : The process ID of the userspace application that sent the message : The sequence number of the message; must match the sequence number for the existing message context waiting for this response</p>
<p>Processes a response message after sending an operation request to userspace. Some other process is awaiting this response. Before sending out its first communications, the other process allocated a msg_ctx from the ecryptfs_msg_ctx_arr at a particular index. The response message contains this index so that we can copy over the response message into the msg_ctx that the process holds a reference to. The other process is going to wake up, check to see that msg_ctx-&gt;state == ECRYPTFS_MSG_CTX_STATE_DONE, and then proceed to read off and process the response message. Returns zero upon delivery to desired context element; non-zero upon delivery failure or error.</p>
<p>Returns zero on success; non-zero otherwise </p>

<p>Definition at line <a class="el" href="messaging_8c_source.html#l00279">279</a> of file <a class="el" href="messaging_8c_source.html">messaging.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="messaging_8c_ac979376807c7c6ac8330de8862807864_cgraph.png" border="0" usemap="#messaging_8c_ac979376807c7c6ac8330de8862807864_cgraph" alt=""/></div>
<map name="messaging_8c_ac979376807c7c6ac8330de8862807864_cgraph" id="messaging_8c_ac979376807c7c6ac8330de8862807864_cgraph">
<area shape="rect" id="node2" href="messaging_8c.html#a785e6d04b5b757664a8c0d7e48bbf5ee" title="ecryptfs_find_daemon\l_by_euid" alt="" coords="238,5,389,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="messaging_8c_ac979376807c7c6ac8330de8862807864_icgraph.png" border="0" usemap="#messaging_8c_ac979376807c7c6ac8330de8862807864_icgraph" alt=""/></div>
<map name="messaging_8c_ac979376807c7c6ac8330de8862807864_icgraph" id="messaging_8c_ac979376807c7c6ac8330de8862807864_icgraph">
<area shape="rect" id="node2" href="miscdev_8c.html#a63a057cac3e88e29d384a51d025515b2" title="ecryptfs_miscdev_response" alt="" coords="238,5,423,32"/><area shape="rect" id="node3" href="miscdev_8c.html#a2baa3c3495d888b54c83d2b1c2d91b93" title="ecryptfs_miscdev_write" alt="" coords="472,5,632,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a83a551f817e776aaea301bb9191199f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ecryptfs_release_messaging </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="messaging_8c_source.html#l00543">543</a> of file <a class="el" href="messaging_8c_source.html">messaging.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="messaging_8c_a83a551f817e776aaea301bb9191199f9_cgraph.png" border="0" usemap="#messaging_8c_a83a551f817e776aaea301bb9191199f9_cgraph" alt=""/></div>
<map name="messaging_8c_a83a551f817e776aaea301bb9191199f9_cgraph" id="messaging_8c_a83a551f817e776aaea301bb9191199f9_cgraph">
<area shape="rect" id="node2" href="messaging_8c.html#a2f2b66714d779ad0e2c9347f7c412da4" title="ecryptfs_exorcise_daemon" alt="" coords="243,35,421,61"/><area shape="rect" id="node6" href="ecryptfs__kernel_8h.html#aa5d62a4fd16cf95e9322d432653b7c59" title="ecryptfs_destroy_ecryptfs\l_miscdev" alt="" coords="245,86,419,127"/><area shape="rect" id="node3" href="list_8h.html#ab1708206f0f7e0a56550b35372203ba5" title="list_del" alt="" coords="518,5,581,32"/><area shape="rect" id="node5" href="messaging_8c.html#afa5f0c6e4ccfb9753a323ff2c5ae993c" title="ecryptfs_msg_ctx_alloc\l_to_free" alt="" coords="469,57,629,98"/><area shape="rect" id="node4" href="list_8h.html#a24b474717d65a296695e8b79b4adefda" title="__list_del" alt="" coords="677,5,755,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="messaging_8c_a83a551f817e776aaea301bb9191199f9_icgraph.png" border="0" usemap="#messaging_8c_a83a551f817e776aaea301bb9191199f9_icgraph" alt=""/></div>
<map name="messaging_8c_a83a551f817e776aaea301bb9191199f9_icgraph" id="messaging_8c_a83a551f817e776aaea301bb9191199f9_icgraph">
<area shape="rect" id="node2" href="services_2gaes_2ecryptfs_2main_8c.html#abe6d03208b49def9b19a36c8a79373b9" title="ecryptfs_init" alt="" coords="453,24,547,50"/><area shape="rect" id="node3" href="services_2gaes_2ecryptfs_2main_8c.html#aa32ace6b7c319adb175778c357041568" title="ecryptfs_exit" alt="" coords="275,24,373,50"/><area shape="rect" id="node4" href="messaging_8c.html#a6babe1511f5e89350b70a7dd6adcbf90" title="ecryptfs_init_messaging" alt="" coords="243,74,405,101"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4991d4be187f4947e178b45b1a759d68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ecryptfs_send_message </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>data_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structecryptfs__msg__ctx.html">ecryptfs_msg_ctx</a> **&#160;</td>
          <td class="paramname"><em>msg_ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ecryptfs_send_message : The data to send : The length of data : The message context allocated for the send</p>
<p>Grabs ecryptfs_daemon_hash_mux.</p>
<p>Returns zero on success; non-zero otherwise </p>

<p>Definition at line <a class="el" href="messaging_8c_source.html#l00432">432</a> of file <a class="el" href="messaging_8c_source.html">messaging.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="messaging_8c_a4991d4be187f4947e178b45b1a759d68_cgraph.png" border="0" usemap="#messaging_8c_a4991d4be187f4947e178b45b1a759d68_cgraph" alt=""/></div>
<map name="messaging_8c_a4991d4be187f4947e178b45b1a759d68_cgraph" id="messaging_8c_a4991d4be187f4947e178b45b1a759d68_cgraph">
<area shape="rect" id="node2" href="messaging_8c.html#a10730ea01271b89e1dbd74f64cff553f" title="ecryptfs_send_message\l_locked" alt="" coords="219,103,383,145"/><area shape="rect" id="node3" href="messaging_8c.html#a785e6d04b5b757664a8c0d7e48bbf5ee" title="ecryptfs_find_daemon\l_by_euid" alt="" coords="437,5,587,46"/><area shape="rect" id="node4" href="messaging_8c.html#a3cf131d292b1e79c317132d722ad3bb3" title="ecryptfs_acquire_free\l_msg_ctx" alt="" coords="439,70,585,111"/><area shape="rect" id="node6" href="messaging_8c.html#a4e5308be4f4821f928b20d7469c21267" title="ecryptfs_msg_ctx_free\l_to_alloc" alt="" coords="435,135,589,177"/><area shape="rect" id="node7" href="ecryptfs__kernel_8h.html#a6daf51b4a7c7274ac0e7e7beeeab775d" title="ecryptfs_send_miscdev" alt="" coords="432,201,592,228"/><area shape="rect" id="node5" href="list_8h.html#a6601e54d8f27ab290ee6819f7e2127b7" title="list_empty" alt="" coords="644,77,727,104"/><area shape="rect" id="node8" href="list_8h.html#a588bec046f1e9797b33a5c5ab250f447" title="list_add_tail" alt="" coords="640,201,731,228"/><area shape="rect" id="node9" href="list_8h.html#a8a28f150a191624bf6923a48cdace7e3" title="__list_add" alt="" coords="779,201,861,228"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="messaging_8c_a4991d4be187f4947e178b45b1a759d68_icgraph.png" border="0" usemap="#messaging_8c_a4991d4be187f4947e178b45b1a759d68_icgraph" alt=""/></div>
<map name="messaging_8c_a4991d4be187f4947e178b45b1a759d68_icgraph" id="messaging_8c_a4991d4be187f4947e178b45b1a759d68_icgraph">
<area shape="rect" id="node2" href="keystore_8c.html#a5cd91ea24b792d9718c66c4f930ef730" title="decrypt_pki_encrypted\l_session_key" alt="" coords="227,45,381,86"/><area shape="rect" id="node8" href="keystore_8c.html#a2bfafae46d434c6ccc87ec04ee2e9db4" title="pki_encrypt_session_key" alt="" coords="219,111,389,137"/><area shape="rect" id="node3" href="keystore_8c.html#a44ad4f9a58b735c6d9891a06df838671" title="ecryptfs_parse_packet_set" alt="" coords="437,52,616,79"/><area shape="rect" id="node4" href="crypto_8c.html#a1971b0423a0e1cbe741f78712d319b20" title="ecryptfs_read_headers_virt" alt="" coords="664,52,843,79"/><area shape="rect" id="node5" href="ecryptfs__kernel_8h.html#a0f476d4db45796bb804042157fbd93fa" title="ecryptfs_read_metadata" alt="" coords="901,52,1064,79"/><area shape="rect" id="node6" href="file_8c.html#ab77b53c00f24de64a0fcbb182f043f23" title="ecryptfs_open" alt="" coords="1153,5,1257,32"/><area shape="rect" id="node7" href="inode_8c.html#a34946e5592d6ec37a0d9cedef341291d" title="ecryptfs_setattr" alt="" coords="1149,56,1262,83"/><area shape="rect" id="node9" href="keystore_8c.html#ac6bc314de94c6d266926cc7dc0219c5b" title="write_tag_1_packet" alt="" coords="459,111,594,137"/><area shape="rect" id="node10" href="keystore_8c.html#aea269faf109dfdfbe811ff5af549c8dc" title="ecryptfs_generate_key\l_packet_set" alt="" coords="676,103,831,145"/><area shape="rect" id="node11" href="crypto_8c.html#a726219be3d26c0f5d0cd3764aaf1dc10" title="ecryptfs_write_headers_virt" alt="" coords="891,111,1074,137"/><area shape="rect" id="node12" href="ecryptfs__kernel_8h.html#aebe428f37c6e93d1e18cdc4a7b40e1f6" title="ecryptfs_write_metadata" alt="" coords="1123,111,1288,137"/><area shape="rect" id="node13" href="inode_8c.html#aa3e69b4fc3ab260970b7852e00b63ac1" title="ecryptfs_initialize_file" alt="" coords="1336,111,1483,137"/><area shape="rect" id="node14" href="inode_8c.html#a2b00e2205459387d2f180e8f055fbaa6" title="ecryptfs_create" alt="" coords="1531,111,1643,137"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a10730ea01271b89e1dbd74f64cff553f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ecryptfs_send_message_locked </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>data_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="helper_8c.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>msg_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structecryptfs__msg__ctx.html">ecryptfs_msg_ctx</a> **&#160;</td>
          <td class="paramname"><em>msg_ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ecryptfs_send_message_locked : The data to send : The length of data : The message context allocated for the send</p>
<p>Must be called with ecryptfs_daemon_hash_mux held.</p>
<p>Returns zero on success; non-zero otherwise </p>

<p>Definition at line <a class="el" href="messaging_8c_source.html#l00388">388</a> of file <a class="el" href="messaging_8c_source.html">messaging.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="messaging_8c_a10730ea01271b89e1dbd74f64cff553f_cgraph.png" border="0" usemap="#messaging_8c_a10730ea01271b89e1dbd74f64cff553f_cgraph" alt=""/></div>
<map name="messaging_8c_a10730ea01271b89e1dbd74f64cff553f_cgraph" id="messaging_8c_a10730ea01271b89e1dbd74f64cff553f_cgraph">
<area shape="rect" id="node2" href="messaging_8c.html#a785e6d04b5b757664a8c0d7e48bbf5ee" title="ecryptfs_find_daemon\l_by_euid" alt="" coords="223,5,374,46"/><area shape="rect" id="node3" href="messaging_8c.html#a3cf131d292b1e79c317132d722ad3bb3" title="ecryptfs_acquire_free\l_msg_ctx" alt="" coords="225,70,372,111"/><area shape="rect" id="node5" href="messaging_8c.html#a4e5308be4f4821f928b20d7469c21267" title="ecryptfs_msg_ctx_free\l_to_alloc" alt="" coords="221,135,376,177"/><area shape="rect" id="node6" href="ecryptfs__kernel_8h.html#a6daf51b4a7c7274ac0e7e7beeeab775d" title="ecryptfs_send_miscdev" alt="" coords="219,201,379,228"/><area shape="rect" id="node4" href="list_8h.html#a6601e54d8f27ab290ee6819f7e2127b7" title="list_empty" alt="" coords="431,77,513,104"/><area shape="rect" id="node7" href="list_8h.html#a588bec046f1e9797b33a5c5ab250f447" title="list_add_tail" alt="" coords="427,201,517,228"/><area shape="rect" id="node8" href="list_8h.html#a8a28f150a191624bf6923a48cdace7e3" title="__list_add" alt="" coords="566,201,647,228"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="messaging_8c_a10730ea01271b89e1dbd74f64cff553f_icgraph.png" border="0" usemap="#messaging_8c_a10730ea01271b89e1dbd74f64cff553f_icgraph" alt=""/></div>
<map name="messaging_8c_a10730ea01271b89e1dbd74f64cff553f_icgraph" id="messaging_8c_a10730ea01271b89e1dbd74f64cff553f_icgraph">
<area shape="rect" id="node2" href="messaging_8c.html#a4991d4be187f4947e178b45b1a759d68" title="ecryptfs_send_message" alt="" coords="219,81,383,108"/><area shape="rect" id="node3" href="keystore_8c.html#a5cd91ea24b792d9718c66c4f930ef730" title="decrypt_pki_encrypted\l_session_key" alt="" coords="441,45,594,86"/><area shape="rect" id="node9" href="keystore_8c.html#a2bfafae46d434c6ccc87ec04ee2e9db4" title="pki_encrypt_session_key" alt="" coords="433,111,602,137"/><area shape="rect" id="node4" href="keystore_8c.html#a44ad4f9a58b735c6d9891a06df838671" title="ecryptfs_parse_packet_set" alt="" coords="651,52,829,79"/><area shape="rect" id="node5" href="crypto_8c.html#a1971b0423a0e1cbe741f78712d319b20" title="ecryptfs_read_headers_virt" alt="" coords="877,52,1056,79"/><area shape="rect" id="node6" href="ecryptfs__kernel_8h.html#a0f476d4db45796bb804042157fbd93fa" title="ecryptfs_read_metadata" alt="" coords="1115,52,1277,79"/><area shape="rect" id="node7" href="file_8c.html#ab77b53c00f24de64a0fcbb182f043f23" title="ecryptfs_open" alt="" coords="1367,5,1471,32"/><area shape="rect" id="node8" href="inode_8c.html#a34946e5592d6ec37a0d9cedef341291d" title="ecryptfs_setattr" alt="" coords="1362,56,1475,83"/><area shape="rect" id="node10" href="keystore_8c.html#ac6bc314de94c6d266926cc7dc0219c5b" title="write_tag_1_packet" alt="" coords="673,111,807,137"/><area shape="rect" id="node11" href="keystore_8c.html#aea269faf109dfdfbe811ff5af549c8dc" title="ecryptfs_generate_key\l_packet_set" alt="" coords="889,103,1044,145"/><area shape="rect" id="node12" href="crypto_8c.html#a726219be3d26c0f5d0cd3764aaf1dc10" title="ecryptfs_write_headers_virt" alt="" coords="1105,111,1287,137"/><area shape="rect" id="node13" href="ecryptfs__kernel_8h.html#aebe428f37c6e93d1e18cdc4a7b40e1f6" title="ecryptfs_write_metadata" alt="" coords="1336,111,1501,137"/><area shape="rect" id="node14" href="inode_8c.html#aa3e69b4fc3ab260970b7852e00b63ac1" title="ecryptfs_initialize_file" alt="" coords="1549,111,1696,137"/><area shape="rect" id="node15" href="inode_8c.html#a2b00e2205459387d2f180e8f055fbaa6" title="ecryptfs_create" alt="" coords="1744,111,1856,137"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6f4666d36f8fc6ff4ceefb9f9ac16879"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ecryptfs_spawn_daemon </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structecryptfs__daemon.html">ecryptfs_daemon</a> **&#160;</td>
          <td class="paramname"><em>daemon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uid_t&#160;</td>
          <td class="paramname"><em>euid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct user_namespace *&#160;</td>
          <td class="paramname"><em>user_ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct pid *&#160;</td>
          <td class="paramname"><em>pid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ecryptfs_spawn_daemon - Create and initialize a new daemon struct : Pointer to set to newly allocated daemon struct : Effective user id for the daemon : The namespace in which  applies : Process id for the daemon</p>
<p>Must be called ceremoniously while in possession of ecryptfs_sacred_daemon_hash_mux</p>
<p>Returns zero on success; non-zero otherwise </p>

<p>Definition at line <a class="el" href="messaging_8c_source.html#l00156">156</a> of file <a class="el" href="messaging_8c_source.html">messaging.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="messaging_8c_a6f4666d36f8fc6ff4ceefb9f9ac16879_cgraph.png" border="0" usemap="#messaging_8c_a6f4666d36f8fc6ff4ceefb9f9ac16879_cgraph" alt=""/></div>
<map name="messaging_8c_a6f4666d36f8fc6ff4ceefb9f9ac16879_cgraph" id="messaging_8c_a6f4666d36f8fc6ff4ceefb9f9ac16879_cgraph">
<area shape="rect" id="node2" href="list_8h.html#aea85dd50b9129ddaa3e3c67ed55804e4" title="INIT_LIST_HEAD" alt="" coords="221,5,349,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="messaging_8c_a6f4666d36f8fc6ff4ceefb9f9ac16879_icgraph.png" border="0" usemap="#messaging_8c_a6f4666d36f8fc6ff4ceefb9f9ac16879_icgraph" alt=""/></div>
<map name="messaging_8c_a6f4666d36f8fc6ff4ceefb9f9ac16879_icgraph" id="messaging_8c_a6f4666d36f8fc6ff4ceefb9f9ac16879_icgraph">
<area shape="rect" id="node2" href="miscdev_8c.html#a55cc5738343b8e8b105f723e99fcb13b" title="ecryptfs_miscdev_open" alt="" coords="221,5,381,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a92e74fb407527dec54a9faba414ea92a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ecryptfs_wait_for_response </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structecryptfs__msg__ctx.html">ecryptfs_msg_ctx</a> *&#160;</td>
          <td class="paramname"><em>msg_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structecryptfs__message.html">ecryptfs_message</a> **&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ecryptfs_wait_for_response : The context that was assigned when sending a message : The incoming message from userspace; not set if rc != 0</p>
<p>Sleeps until awaken by ecryptfs_receive_message or until the amount of time exceeds ecryptfs_message_wait_timeout. If zero is returned, msg will point to a valid message from userspace; a non-zero value is returned upon failure to receive a message or an error occurs. Callee must free  on success. </p>

<p>Definition at line <a class="el" href="messaging_8c_source.html#l00455">455</a> of file <a class="el" href="messaging_8c_source.html">messaging.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="messaging_8c_a92e74fb407527dec54a9faba414ea92a_cgraph.png" border="0" usemap="#messaging_8c_a92e74fb407527dec54a9faba414ea92a_cgraph" alt=""/></div>
<map name="messaging_8c_a92e74fb407527dec54a9faba414ea92a_cgraph" id="messaging_8c_a92e74fb407527dec54a9faba414ea92a_cgraph">
<area shape="rect" id="node2" href="messaging_8c.html#afa5f0c6e4ccfb9753a323ff2c5ae993c" title="ecryptfs_msg_ctx_alloc\l_to_free" alt="" coords="237,5,397,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="messaging_8c_a92e74fb407527dec54a9faba414ea92a_icgraph.png" border="0" usemap="#messaging_8c_a92e74fb407527dec54a9faba414ea92a_icgraph" alt=""/></div>
<map name="messaging_8c_a92e74fb407527dec54a9faba414ea92a_icgraph" id="messaging_8c_a92e74fb407527dec54a9faba414ea92a_icgraph">
<area shape="rect" id="node2" href="keystore_8c.html#a5cd91ea24b792d9718c66c4f930ef730" title="decrypt_pki_encrypted\l_session_key" alt="" coords="246,45,399,86"/><area shape="rect" id="node8" href="keystore_8c.html#a2bfafae46d434c6ccc87ec04ee2e9db4" title="pki_encrypt_session_key" alt="" coords="238,111,407,137"/><area shape="rect" id="node3" href="keystore_8c.html#a44ad4f9a58b735c6d9891a06df838671" title="ecryptfs_parse_packet_set" alt="" coords="456,52,635,79"/><area shape="rect" id="node4" href="crypto_8c.html#a1971b0423a0e1cbe741f78712d319b20" title="ecryptfs_read_headers_virt" alt="" coords="683,52,861,79"/><area shape="rect" id="node5" href="ecryptfs__kernel_8h.html#a0f476d4db45796bb804042157fbd93fa" title="ecryptfs_read_metadata" alt="" coords="920,52,1083,79"/><area shape="rect" id="node6" href="file_8c.html#ab77b53c00f24de64a0fcbb182f043f23" title="ecryptfs_open" alt="" coords="1172,5,1276,32"/><area shape="rect" id="node7" href="inode_8c.html#a34946e5592d6ec37a0d9cedef341291d" title="ecryptfs_setattr" alt="" coords="1167,56,1281,83"/><area shape="rect" id="node9" href="keystore_8c.html#ac6bc314de94c6d266926cc7dc0219c5b" title="write_tag_1_packet" alt="" coords="478,111,613,137"/><area shape="rect" id="node10" href="keystore_8c.html#aea269faf109dfdfbe811ff5af549c8dc" title="ecryptfs_generate_key\l_packet_set" alt="" coords="695,103,849,145"/><area shape="rect" id="node11" href="crypto_8c.html#a726219be3d26c0f5d0cd3764aaf1dc10" title="ecryptfs_write_headers_virt" alt="" coords="910,111,1093,137"/><area shape="rect" id="node12" href="ecryptfs__kernel_8h.html#aebe428f37c6e93d1e18cdc4a7b40e1f6" title="ecryptfs_write_metadata" alt="" coords="1141,111,1307,137"/><area shape="rect" id="node13" href="inode_8c.html#aa3e69b4fc3ab260970b7852e00b63ac1" title="ecryptfs_initialize_file" alt="" coords="1355,111,1501,137"/><area shape="rect" id="node14" href="inode_8c.html#a2b00e2205459387d2f180e8f055fbaa6" title="ecryptfs_create" alt="" coords="1549,111,1661,137"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2f0b0f6fd0378cd42dd395a0436aa2d5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static LIST_HEAD </td>
          <td>(</td>
          <td class="paramtype">ecryptfs_msg_ctx_free_list&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>eCryptfs: Linux filesystem encryption layer</p>
<p>Copyright (C) 2004-2008 International Business Machines Corp. Author(s): Michael A. Halcrow <a href="#" onclick="location.href='mai'+'lto:'+'mha'+'lc'+'row'+'@u'+'s.i'+'bm'+'.co'+'m'; return false;">mhalc<span style="display: none;">.nosp@m.</span>row@<span style="display: none;">.nosp@m.</span>us.ib<span style="display: none;">.nosp@m.</span>m.co<span style="display: none;">.nosp@m.</span>m</a> Tyler Hicks <a href="#" onclick="location.href='mai'+'lto:'+'tyh'+'ic'+'ks@'+'ou'+'.ed'+'u'; return false;">tyhic<span style="display: none;">.nosp@m.</span>ks@o<span style="display: none;">.nosp@m.</span>u.edu</a></p>
<p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License version 2 as published by the Free Software Foundation.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.</p>
<p>See the GPL-COPYING file in the top-level directory.</p>
<p>Copyright (c) 2010-2011 University of Utah and the Flux Group. All rights reserved. </p>

</div>
</div>
<a class="anchor" id="ac66ec1bc627a8c9ed0657b7c450cf85b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static LIST_HEAD </td>
          <td>(</td>
          <td class="paramtype">ecryptfs_msg_ctx_alloc_list&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="afe615a7305d325bcfda64f3b49a85527"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct hlist_head* ecryptfs_daemon_hash</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="messaging_8c_source.html#l00038">38</a> of file <a class="el" href="messaging_8c_source.html">messaging.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9bc1cbb0bca5f9bbc411066a0aa71493"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct mutex ecryptfs_daemon_hash_mux</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="messaging_8c_source.html#l00039">39</a> of file <a class="el" href="messaging_8c_source.html">messaging.c</a>.</p>

</div>
</div>
<a class="anchor" id="aaba524827bef632ba9d67f5a7dca6afe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ecryptfs_hash_bits</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="messaging_8c_source.html#l00040">40</a> of file <a class="el" href="messaging_8c_source.html">messaging.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad380024c2f5a4522d7393ab506bb6e8c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gaesu_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> ecryptfs_msg_counter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="messaging_8c_source.html#l00044">44</a> of file <a class="el" href="messaging_8c_source.html">messaging.c</a>.</p>

</div>
</div>
<a class="anchor" id="a645ad692fdf658b5908d7e6870ef49f7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structecryptfs__msg__ctx.html">ecryptfs_msg_ctx</a>* ecryptfs_msg_ctx_arr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="messaging_8c_source.html#l00045">45</a> of file <a class="el" href="messaging_8c_source.html">messaging.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8453d6fa70b47b4dbab11dac913592be"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct mutex ecryptfs_msg_ctx_lists_mux</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="messaging_8c_source.html#l00036">36</a> of file <a class="el" href="messaging_8c_source.html">messaging.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_e21752eb5e4b36c827bff61d317f78b6.html">services</a></li><li class="navelem"><a class="el" href="dir_c51145f6003b9bc92d3c8072bd9cc295.html">gaes</a></li><li class="navelem"><a class="el" href="dir_32c6c2c05be1954f867927059ab19ff9.html">ecryptfs</a></li><li class="navelem"><a class="el" href="messaging_8c.html">messaging.c</a></li>
    <li class="footer">Generated on Sun Dec 7 2014 14:58:24 for KGPU by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
